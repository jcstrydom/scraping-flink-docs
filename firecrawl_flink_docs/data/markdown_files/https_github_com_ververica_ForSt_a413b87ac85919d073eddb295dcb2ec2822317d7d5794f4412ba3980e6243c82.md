[Skip to content](https://github.com/ververica/ForSt#start-of-content)

You signed in with another tab or window. [Reload](https://github.com/ververica/ForSt) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/ververica/ForSt) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/ververica/ForSt) to refresh your session.Dismiss alert

{{ message }}

[ververica](https://github.com/ververica)/ **[ForSt](https://github.com/ververica/ForSt)** Public

- [Notifications](https://github.com/login?return_to=%2Fververica%2FForSt) You must be signed in to change notification settings
- [Fork\\
22](https://github.com/login?return_to=%2Fververica%2FForSt)
- [Star\\
119](https://github.com/login?return_to=%2Fververica%2FForSt)


A Persistent Key-Value Store designed for Streaming processing


### License

Apache-2.0, Unknown licenses found


### Licenses found

[Apache-2.0\\
\\
LICENSE](https://github.com/ververica/ForSt/blob/main/LICENSE) [Unknown\\
\\
LICENSE.leveldb](https://github.com/ververica/ForSt/blob/main/LICENSE.leveldb)

[119\\
stars](https://github.com/ververica/ForSt/stargazers) [22\\
forks](https://github.com/ververica/ForSt/forks) [Branches](https://github.com/ververica/ForSt/branches) [Tags](https://github.com/ververica/ForSt/tags) [Activity](https://github.com/ververica/ForSt/activity)

[Star](https://github.com/login?return_to=%2Fververica%2FForSt)

[Notifications](https://github.com/login?return_to=%2Fververica%2FForSt) You must be signed in to change notification settings

# ververica/ForSt

main

[**6** Branches](https://github.com/ververica/ForSt/branches) [**2** Tags](https://github.com/ververica/ForSt/tags)

[Go to Branches page](https://github.com/ververica/ForSt/branches)[Go to Tags page](https://github.com/ververica/ForSt/tags)

Go to file

Code

Open more actions menu

## Folders and files

| Name | Name | Last commit message | Last commit date |
| --- | --- | --- | --- |
| ## Latest commit<br>[![curcur](https://avatars.githubusercontent.com/u/11065508?v=4&size=40)](https://github.com/curcur)[curcur](https://github.com/ververica/ForSt/commits?author=curcur)<br>[Merge pull request](https://github.com/ververica/ForSt/commit/783f0fcb1cb03aaa9be425b8838cfb5b62f28802) [#40](https://github.com/ververica/ForSt/pull/40) [from ververica/curcur-patch-readme-2](https://github.com/ververica/ForSt/commit/783f0fcb1cb03aaa9be425b8838cfb5b62f28802)<br>Open commit detailsfailure<br>5 days agoJan 13, 2026<br>[783f0fc](https://github.com/ververica/ForSt/commit/783f0fcb1cb03aaa9be425b8838cfb5b62f28802) · 5 days agoJan 13, 2026<br>## History<br>[12,433 Commits](https://github.com/ververica/ForSt/commits/main/) <br>Open commit details<br>[View commit history for this file.](https://github.com/ververica/ForSt/commits/main/) |
| [.circleci](https://github.com/ververica/ForSt/tree/main/.circleci ".circleci") | [.circleci](https://github.com/ververica/ForSt/tree/main/.circleci ".circleci") | [\[FLINK-35575\] Disable PERF\_CONTEXT by default in compilation (#76)](https://github.com/ververica/ForSt/commit/7a76723056dd9092b88032526b8bfa16058e0315 "[FLINK-35575] Disable PERF_CONTEXT by default in compilation (#76)") | 2 years agoAug 13, 2024 |
| [.github](https://github.com/ververica/ForSt/tree/main/.github ".github") | [.github](https://github.com/ververica/ForSt/tree/main/.github ".github") | [\[build\] Fixing ci error (](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") [#22](https://github.com/ververica/ForSt/pull/22) [)](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") | 2 years agoOct 24, 2024 |
| [buckifier](https://github.com/ververica/ForSt/tree/main/buckifier "buckifier") | [buckifier](https://github.com/ververica/ForSt/tree/main/buckifier "buckifier") | [Error out in case of std errors in blackbox test and export file in T…](https://github.com/ververica/ForSt/commit/917fd87513545aadfc3cf4091afd9c36b0464567 "Error out in case of std errors in blackbox test and export file in TARGETS  Summary: -  Right now in blackbox test we don't exit if there are std::error as we do in whitebox crash tests. As result those errors are swallowed. It only errors out if state is unexpected.  One example that was noticed in blackbox crash test - ``` stderr has error message: ***Error restoring historical expected values: Corruption: DB is older than any restorable expected state*** Running db_stress with pid=30454: /packages/rocksdb_db_stress_internal_repo/rocks_db_stress  .... ```  -  This diff also provided support to export files -  db_crashtest.py file to be used by different repo.  Reviewed By: ajkr  Differential Revision: D50564889  fbshipit-source-id: 7bafbbc6179dc79467ca2b680fe83afc7850616a") | 3 years agoOct 24, 2023 |
| [build\_tools](https://github.com/ververica/ForSt/tree/main/build_tools "build_tools") | [build\_tools](https://github.com/ververica/ForSt/tree/main/build_tools "build_tools") | [\[build\] Fixing ci error (](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") [#22](https://github.com/ververica/ForSt/pull/22) [)](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") | 2 years agoOct 24, 2024 |
| [cache](https://github.com/ververica/ForSt/tree/main/cache "cache") | [cache](https://github.com/ververica/ForSt/tree/main/cache "cache") | [\[build\] Fixing ci error (](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") [#22](https://github.com/ververica/ForSt/pull/22) [)](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") | 2 years agoOct 24, 2024 |
| [cmake](https://github.com/ververica/ForSt/tree/main/cmake "cmake") | [cmake](https://github.com/ververica/ForSt/tree/main/cmake "cmake") | [gcc-11 and cmake related cleanup (#9286)](https://github.com/ververica/ForSt/commit/cc1d4e3d331cb80e8a2303c8ef3d1fde00742f39 "gcc-11 and cmake related cleanup (#9286)  Summary: in hope to get rockdb compiled with GCC-11 without warning  * util/bloom_test: init a variable before using it   to silence the GCC warning like   ```   util/bloom_test.cc:1253:31: error: ‘<anonymous>’ may be used uninitialized [-Werror=maybe-uninitialized]    1253 |   Slice key_slice{key_bytes, 8};         |                               ^   ...   include/rocksdb/slice.h:41:3: note: by argument 2 of type ‘const char*’ to ‘rocksdb::Slice::Slice(const char*, size_t)’ declared here      41 |   Slice(const char* d, size_t n) : data_(d), size_(n) {}         |   ^~~~~   util/bloom_test.cc:1249:3: note: ‘<anonymous>’ declared here    1249 |   };         |   ^   cc1plus: all warnings being treated as errors   ``` * cmake: add find_package(uring ...)   find liburing in a more consistent way. also it is the encouraged way for finding a library.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/9286  Reviewed By: mrambacher  Differential Revision: D33165241  Pulled By: jay-zhuang  fbshipit-source-id: 9f3487e11b4e40fd8f1c97c8facb24a190e5ce31") | 5 years agoDec 17, 2021 |
| [coverage](https://github.com/ververica/ForSt/tree/main/coverage "coverage") | [coverage](https://github.com/ververica/ForSt/tree/main/coverage "coverage") | [Remove platform009 and default to platform010 (#11333)](https://github.com/ververica/ForSt/commit/891ced8b15c33f245bc359b81688aa238cb629f5 "Remove platform009 and default to platform010 (#11333)  Summary: Platform009 is no longer supported in fbcode.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/11333  Reviewed By: pdillinger, ltamasi  Differential Revision: D44486431  Pulled By: anand1976  fbshipit-source-id: 99e19a70ebbb04ae750d39c33a110518bb25487e") | 3 years agoMar 30, 2023 |
| [db](https://github.com/ververica/ForSt/tree/main/db "db") | [db](https://github.com/ververica/ForSt/tree/main/db "db") | [\[FLINK-35928\]\[build\] rename namespace/jni to forst](https://github.com/ververica/ForSt/commit/ab5912faf684b6048056c700283a6d6f6fb57abb "[FLINK-35928][build] rename namespace/jni to forst") | 2 years agoSep 26, 2024 |
| [db\_stress\_tool](https://github.com/ververica/ForSt/tree/main/db_stress_tool "db_stress_tool") | [db\_stress\_tool](https://github.com/ververica/ForSt/tree/main/db_stress_tool "db_stress_tool") | [Add initial support to stress test persist\_user\_defined\_timestamps (#…](https://github.com/ververica/ForSt/commit/c2ab4e754b86a95a7316feb0a313cc086459302c "Add initial support to stress test persist_user_defined_timestamps (#12124)  Summary: This PR adds initial stress testing for the user-defined timestamps in memtable only feature. Each flavor of the `*_ts` crash test get a 1 in 3 chance to run with timestamps not persisted, this setting is initialized once and kept consistent across the following re-runs.  This initial stress test included these things besides disabling incompatible feature combinations to make the test run more stably: 1) It currently only run test methods that validates db state with expected state. Not the ones that validate db state by comparing result from one API to another API. Such as `TestMultiGet` (compared with `Get`), similarly `TestMultiGetEntity`, `TestIterate` (compare src iterator to a control iterator). Due to timestamps being removed, results from one API to another API is not directly comparable as it is now. More test logic to handle that need to be added, will do that in a follow up.  2) Even when comparing db state to expected state, sometimes the db can receive `InvalidArgument` too due to timestamps getting flushed and removed. Added some logic to handle that.  3) When timestamps are not persisted, we don't try to read with older timestamp. Since that's making it easier to get `InvalidArgument`. And this capability is not yet needed by our customer so it's disabled for now.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/12124  Test Plan: running multiple flavor of this test on continuous run for sometime before checkin  Reviewed By: ltamasi  Differential Revision: D51916267  Pulled By: jowlyzhang  fbshipit-source-id: 3f3eb5f9618d05d296062820e0ef5cb8edc7c2b2") | 3 years agoDec 12, 2023 |
| [docs](https://github.com/ververica/ForSt/tree/main/docs "docs") | [docs](https://github.com/ververica/ForSt/tree/main/docs "docs") | [FIX new blog post (JNI performance) Locate images correctly (#12050)](https://github.com/ververica/ForSt/commit/c181667c4fd60f4b6d72fa5c11a935bb55736865 "FIX new blog post (JNI performance) Locate images correctly (#12050)  Summary: We set up the images / references to the images wrongly in https://github.com/facebook/rocksdb/pull/11818 Images should be in the docs/static/images/… directory with an absolute reference to /static/images/…  Make it so.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/12050  Reviewed By: pdillinger  Differential Revision: D51079811  Pulled By: jaykorean  fbshipit-source-id: 4c1ab80d313b70d0e60eec94086451d7b2814922") | 3 years agoNov 7, 2023 |
| [env](https://github.com/ververica/ForSt/tree/main/env "env") | [env](https://github.com/ververica/ForSt/tree/main/env "env") | [\[hotfix\]\[Flink\] Initialize the stream pointer in constructor](https://github.com/ververica/ForSt/commit/bb07474f9b9f095525166ed3d7b103d20c8c15df "[hotfix][Flink] Initialize the stream pointer in constructor") | 10 months agoMar 9, 2025 |
| [examples](https://github.com/ververica/ForSt/tree/main/examples "examples") | [examples](https://github.com/ververica/ForSt/tree/main/examples "examples") | [Fix compact\_files\_example (#12084)](https://github.com/ververica/ForSt/commit/d3e015fe06a6ba01e0c93687416deb1d70c57769 "Fix compact_files_example (#12084)  Summary: The option \"write_buffer_size\" has changed from 4MB for 64MB by default, and the compact_files_example will not work as expected, as the test data written is only about 50MB and will not trigger compaction.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/12084  Reviewed By: cbi42  Differential Revision: D51499959  Pulled By: ajkr  fbshipit-source-id: 4f4b25ebc4b6bb568501adc8e97813edcddceea8") | 3 years agoNov 21, 2023 |
| [file](https://github.com/ververica/ForSt/tree/main/file "file") | [file](https://github.com/ververica/ForSt/tree/main/file "file") | [Make auto\_readahead\_size default true (#12080)](https://github.com/ververica/ForSt/commit/e7c6259447df84c96f4dc555f8d4ccefcc0a54f2 "Make auto_readahead_size default true (#12080)  Summary: Make auto_readahead_size option default true  Pull Request resolved: https://github.com/facebook/rocksdb/pull/12080  Test Plan: benchmarks and exisiting tests  Reviewed By: anand1976  Differential Revision: D52152132  Pulled By: akankshamahajan15  fbshipit-source-id: f1515563564e77df457dff2e865e4ede8c3ddf44") | 3 years agoDec 14, 2023 |
| [fuzz](https://github.com/ververica/ForSt/tree/main/fuzz "fuzz") | [fuzz](https://github.com/ververica/ForSt/tree/main/fuzz "fuzz") | [Block per key-value checksum (#11287)](https://github.com/ververica/ForSt/commit/62fc15f009eba86e65f2f7448829429eae9ad071 "Block per key-value checksum (#11287)  Summary: add option `block_protection_bytes_per_key` and implementation for block per key-value checksum. The main changes are 1. checksum construction and verification in block.cc/h 2. pass the option `block_protection_bytes_per_key` around (mainly for methods defined in table_cache.h) 3. unit tests/crash test updates  Tests: * Added unit tests * Crash test: `python3 tools/db_crashtest.py blackbox --simple --block_protection_bytes_per_key=1 --write_buffer_size=1048576`  Follow up (maybe as a separate PR): make sure corruption status returned from BlockIters are correctly handled.  Performance: Turning on block per KV protection has a non-trivial negative impact on read performance and costs additional memory. For memory, each block includes additional 24 bytes for checksum-related states beside checksum itself. For CPU, I set up a DB of size ~1.2GB with 5M keys (32 bytes key and 200 bytes value) which compacts to ~5 SST files (target file size 256 MB) in L6 without compression. I tested readrandom performance with various block cache size (to mimic various cache hit rates):  ``` SETUP make OPTIMIZE_LEVEL=\"-O3\" USE_LTO=1 DEBUG_LEVEL=0 -j32 db_bench ./db_bench -benchmarks=fillseq,compact0,waitforcompaction,compact,waitforcompaction -write_buffer_size=33554432 -level_compaction_dynamic_level_bytes=true -max_background_jobs=8 -target_file_size_base=268435456 --num=5000000 --key_size=32 --value_size=200 --compression_type=none  BENCHMARK ./db_bench --use_existing_db -benchmarks=readtocache,readrandom[-X10] --num=5000000 --key_size=32 --disable_auto_compactions --reads=1000000 --block_protection_bytes_per_key=[0|1] --cache_size=$CACHESIZE  The readrandom ops/sec looks like the following: Block cache size:  2GB        1.2GB * 0.9    1.2GB * 0.8     1.2GB * 0.5   8MB Main              240805     223604         198176           161653       139040 PR prot_bytes=0   238691     226693         200127           161082       141153 PR prot_bytes=1   214983     193199         178532           137013       108211 prot_bytes=1 vs    -10%        -15%          -10.8%          -15%        -23% prot_bytes=0 ```  The benchmark has a lot of variance, but there was a 5% to 25% regression in this benchmark with different cache hit rates.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/11287  Reviewed By: ajkr  Differential Revision: D43970708  Pulled By: cbi42  fbshipit-source-id: ef98d898b71779846fa74212b9ec9e08b7183940") | 3 years agoApr 25, 2023 |
| [include/rocksdb](https://github.com/ververica/ForSt/tree/main/include/rocksdb "This path skips through empty directories") | [include/rocksdb](https://github.com/ververica/ForSt/tree/main/include/rocksdb "This path skips through empty directories") | [\[FLINK-35928\]\[build\] rename namespace/jni to forst](https://github.com/ververica/ForSt/commit/ab5912faf684b6048056c700283a6d6f6fb57abb "[FLINK-35928][build] rename namespace/jni to forst") | 2 years agoSep 26, 2024 |
| [java](https://github.com/ververica/ForSt/tree/main/java "java") | [java](https://github.com/ververica/ForSt/tree/main/java "java") | [\[Java\] Add shutdown hook to join background thread](https://github.com/ververica/ForSt/commit/96ac0f3467198b027c5c212983067890043c2d3d "[Java] Add shutdown hook to join background thread") | last yearJan 21, 2025 |
| [logging](https://github.com/ververica/ForSt/tree/main/logging "logging") | [logging](https://github.com/ververica/ForSt/tree/main/logging "logging") | [\[FLINK-35928\]\[build\] rename namespace/jni to forst](https://github.com/ververica/ForSt/commit/ab5912faf684b6048056c700283a6d6f6fb57abb "[FLINK-35928][build] rename namespace/jni to forst") | 2 years agoSep 26, 2024 |
| [memory](https://github.com/ververica/ForSt/tree/main/memory "memory") | [memory](https://github.com/ververica/ForSt/tree/main/memory "memory") | [Fix ArenaTest.UnmappedAllocation in some cases (#12378)](https://github.com/ververica/ForSt/commit/b933d48c7e541b2d6172e9811ac6535dbf9aad34 "Fix ArenaTest.UnmappedAllocation in some cases (#12378)  Summary: Fix compatibility with transparent huge pages by allocating in increments (1MiB) smaller than the typical smallest huge page size of 2MiB.  Also, bypass the test when jemalloc config.fill is used, which means the allocator is explicitly configured to write to memory before we get it, which is not what this test expects.  Fixes https://github.com/facebook/rocksdb/issues/12351  Pull Request resolved: https://github.com/facebook/rocksdb/pull/12378  Test Plan: ``` sudo bash -c 'echo \"always\" > /sys/kernel/mm/transparent_hugepage/enabled' ``` And see unit test fails before this change, passes after this change  Also tested internal buck build with dbg mode (previously failing).  Reviewed By: jaykorean, hx235  Differential Revision: D54139634  Pulled By: pdillinger  fbshipit-source-id: 179accebe918d8eecd46a979fcf21d356f9b5519 (cherry picked from commit 41849210e9acaba9a0d5bf842cf321f9328a212b)") | 2 years agoDec 9, 2024 |
| [memtable](https://github.com/ververica/ForSt/tree/main/memtable "memtable") | [memtable](https://github.com/ververica/ForSt/tree/main/memtable "memtable") | [internal\_repo\_rocksdb (-8794174668376270091) (#12114)](https://github.com/ververica/ForSt/commit/be3bc368116e1be3580407b9fa2205d785e27673 "internal_repo_rocksdb (-8794174668376270091) (#12114)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/12114  Reviewed By: jowlyzhang  Differential Revision: D51745613  Pulled By: ajkr  fbshipit-source-id: 27ca4bda275cab057d3a3ec99f0f92cdb9be5177") | 3 years agoDec 1, 2023 |
| [microbench](https://github.com/ververica/ForSt/tree/main/microbench "microbench") | [microbench](https://github.com/ververica/ForSt/tree/main/microbench "microbench") | [internal\_repo\_rocksdb (-8794174668376270091) (#12114)](https://github.com/ververica/ForSt/commit/be3bc368116e1be3580407b9fa2205d785e27673 "internal_repo_rocksdb (-8794174668376270091) (#12114)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/12114  Reviewed By: jowlyzhang  Differential Revision: D51745613  Pulled By: ajkr  fbshipit-source-id: 27ca4bda275cab057d3a3ec99f0f92cdb9be5177") | 3 years agoDec 1, 2023 |
| [monitoring](https://github.com/ververica/ForSt/tree/main/monitoring "monitoring") | [monitoring](https://github.com/ververica/ForSt/tree/main/monitoring "monitoring") | [Add some compressed and tiered secondary cache stats (#12150)](https://github.com/ververica/ForSt/commit/cc069f25b31be9be30a8831910df983c74c82b21 "Add some compressed and tiered secondary cache stats (#12150)  Summary: Add statistics for more visibility.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/12150  Reviewed By: akankshamahajan15  Differential Revision: D52184633  Pulled By: anand1976  fbshipit-source-id: 9969e05d65223811cd12627102b020bb6d229352") | 3 years agoDec 15, 2023 |
| [options](https://github.com/ververica/ForSt/tree/main/options "options") | [options](https://github.com/ververica/ForSt/tree/main/options "options") | [Add some compressed and tiered secondary cache stats (#12150)](https://github.com/ververica/ForSt/commit/cc069f25b31be9be30a8831910df983c74c82b21 "Add some compressed and tiered secondary cache stats (#12150)  Summary: Add statistics for more visibility.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/12150  Reviewed By: akankshamahajan15  Differential Revision: D52184633  Pulled By: anand1976  fbshipit-source-id: 9969e05d65223811cd12627102b020bb6d229352") | 3 years agoDec 15, 2023 |
| [plugin](https://github.com/ververica/ForSt/tree/main/plugin "plugin") | [plugin](https://github.com/ververica/ForSt/tree/main/plugin "plugin") | [Add initial CMake support to plugin (#9214)](https://github.com/ververica/ForSt/commit/29954b8b57fea986bcfa46b283452793de0f7258 "Add initial CMake support to plugin (#9214)  Summary: Not a CMake expert, and the current CMake build support added by this PR is unlikely the best way of doing it. Sending out the PR to demonstrate it can work.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/9214  Test Plan: Will need to update https://github.com/ajkr/dedupfs with CMake build. Also, PR https://github.com/facebook/rocksdb/issues/9170 and PR https://github.com/facebook/rocksdb/issues/9206 both include CMake support for their plugins, and can be used as a proof of concept.  Reviewed By: ajkr  Differential Revision: D32738273  Pulled By: riversand963  fbshipit-source-id: da87fb4377c716bbbd577a69763b48d22483f845") | 5 years agoNov 30, 2021 |
| [port](https://github.com/ververica/ForSt/tree/main/port "port") | [port](https://github.com/ververica/ForSt/tree/main/port "port") | [internal\_repo\_rocksdb (-8794174668376270091) (#12114)](https://github.com/ververica/ForSt/commit/be3bc368116e1be3580407b9fa2205d785e27673 "internal_repo_rocksdb (-8794174668376270091) (#12114)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/12114  Reviewed By: jowlyzhang  Differential Revision: D51745613  Pulled By: ajkr  fbshipit-source-id: 27ca4bda275cab057d3a3ec99f0f92cdb9be5177") | 3 years agoDec 1, 2023 |
| [table](https://github.com/ververica/ForSt/tree/main/table "table") | [table](https://github.com/ververica/ForSt/tree/main/table "table") | [Make auto\_readahead\_size default true (#12080)](https://github.com/ververica/ForSt/commit/e7c6259447df84c96f4dc555f8d4ccefcc0a54f2 "Make auto_readahead_size default true (#12080)  Summary: Make auto_readahead_size option default true  Pull Request resolved: https://github.com/facebook/rocksdb/pull/12080  Test Plan: benchmarks and exisiting tests  Reviewed By: anand1976  Differential Revision: D52152132  Pulled By: akankshamahajan15  fbshipit-source-id: f1515563564e77df457dff2e865e4ede8c3ddf44") | 3 years agoDec 14, 2023 |
| [test\_util](https://github.com/ververica/ForSt/tree/main/test_util "test_util") | [test\_util](https://github.com/ververica/ForSt/tree/main/test_util "test_util") | [internal\_repo\_rocksdb (435146444452818992) (#12115)](https://github.com/ververica/ForSt/commit/06dc32ef2567188d088f56c5588cc51913c544ac "internal_repo_rocksdb (435146444452818992) (#12115)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/12115  Reviewed By: jowlyzhang  Differential Revision: D51745742  Pulled By: ajkr  fbshipit-source-id: 67000d07783b413924798dd9c1751da27e119d53") | 3 years agoDec 1, 2023 |
| [third-party](https://github.com/ververica/ForSt/tree/main/third-party "third-party") | [third-party](https://github.com/ververica/ForSt/tree/main/third-party "third-party") | [fix optimization-disabled test builds with platform010 (#11361)](https://github.com/ververica/ForSt/commit/760b773f58277f9ce449389c0773a1eee2d14363 "fix optimization-disabled test builds with platform010 (#11361)  Summary: Fixed the following failure:  ``` third-party/gtest-1.8.1/fused-src/gtest/gtest-all.cc: In function ‘bool testing::internal::StackGrowsDown()’: third-party/gtest-1.8.1/fused-src/gtest/gtest-all.cc:8681:24: error: ‘dummy’ may be used uninitialized [-Werror=maybe-uninitialized]  8681 |   StackLowerThanAddress(&dummy, &result);       |   ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~ third-party/gtest-1.8.1/fused-src/gtest/gtest-all.cc:8671:13: note: by argument 1 of type ‘const void*’ to ‘void testing::internal::StackLowerThanAddress(const void*, bool*)’ declared here  8671 | static void StackLowerThanAddress(const void* ptr, bool* result) {       |             ^~~~~~~~~~~~~~~~~~~~~ third-party/gtest-1.8.1/fused-src/gtest/gtest-all.cc:8679:7: note: ‘dummy’ declared here  8679 |   int dummy;       |       ^~~~~ ```  Pull Request resolved: https://github.com/facebook/rocksdb/pull/11361  Reviewed By: cbi42  Differential Revision: D44838033  Pulled By: ajkr  fbshipit-source-id: 27d68b5a24a15723bbaaa7de45ccd70a60fe259e") | 3 years agoApr 10, 2023 |
| [tools](https://github.com/ververica/ForSt/tree/main/tools "tools") | [tools](https://github.com/ververica/ForSt/tree/main/tools "tools") | [\[build\] Fixing ci error (](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") [#22](https://github.com/ververica/ForSt/pull/22) [)](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") | 2 years agoOct 24, 2024 |
| [trace\_replay](https://github.com/ververica/ForSt/tree/main/trace_replay "trace_replay") | [trace\_replay](https://github.com/ververica/ForSt/tree/main/trace_replay "trace_replay") | [internal\_repo\_rocksdb (435146444452818992) (#12115)](https://github.com/ververica/ForSt/commit/06dc32ef2567188d088f56c5588cc51913c544ac "internal_repo_rocksdb (435146444452818992) (#12115)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/12115  Reviewed By: jowlyzhang  Differential Revision: D51745742  Pulled By: ajkr  fbshipit-source-id: 67000d07783b413924798dd9c1751da27e119d53") | 3 years agoDec 1, 2023 |
| [unreleased\_history](https://github.com/ververica/ForSt/tree/main/unreleased_history "unreleased_history") | [unreleased\_history](https://github.com/ververica/ForSt/tree/main/unreleased_history "unreleased_history") | [Fix bug of newer ingested data assigned with an older seqno (#12257)](https://github.com/ververica/ForSt/commit/8fe04d84e96af2053b948e7f357bea76de64f271 "Fix bug of newer ingested data assigned with an older seqno (#12257)  Summary: **Context:** We found an edge case where newer ingested data is assigned with an older seqno. This causes older data of that key to be returned for read.  Consider the following lsm shape: ![image](https://github.com/facebook/rocksdb/assets/83968999/973fd160-5065-49cd-8b7b-b6ab4badae23) Then ingest a file to L5 containing new data of key_overlap. Because of [this](https://l.facebook.com/l.php?u=https%3A%2F%2Fgithub.com%2Ffacebook%2Frocksdb%2Fblob%2F5a26f392ca640818da0b8590be6119699e852b07%2Fdb%2Fexternal_sst_file_ingestion_job.cc%3Ffbclid%3DIwAR10clXxpUSrt6sYg12sUMeHfShS7XigFrsJHvZoUDroQpbj_Sb3dG_JZFc%23L951-L956&h=AT0m56P7O0ZML7jk1sdjgnZZyGPMXg9HkKvBEb8mE9ZM3fpJjPrArAMsaHWZQPt9Ki-Pn7lv7x-RT9NEd_202Y6D2juIVHOIt3EjCZptDKBLRBMG49F8iBUSM9ypiKe8XCfM-FNW2Hl4KbVq2e3nZRbMvUM), the file is assigned with seqno 2, older than the old data's seqno 4. After just another compaction, we will drop the new_v for key_overlap because of the seqno and cause older data to be returned. ![image](https://github.com/facebook/rocksdb/assets/83968999/a3ef95e4-e7ae-4c30-8d03-955cd4b5ed42)  **Summary:** This PR removes the incorrect seqno assignment  Pull Request resolved: https://github.com/facebook/rocksdb/pull/12257  Test Plan: - New unit test failed before the fix but passes after - python3 tools/db_crashtest.py --compaction_style=1 --ingest_external_file_one_in=10 --preclude_last_level_data_seconds=36000 --compact_files_one_in=10 --enable_blob_files=0 blackbox` - Rehearsal stress test  Reviewed By: cbi42  Differential Revision: D52926092  Pulled By: hx235  fbshipit-source-id: 9e4dade0f6cc44e548db8fca27ccbc81a621cd6f (cherry picked from commit 1b2b16b38ef760252d61b123e7e39c26306cd1c7)") | 2 years agoJul 22, 2024 |
| [util](https://github.com/ververica/ForSt/tree/main/util "util") | [util](https://github.com/ververica/ForSt/tree/main/util "util") | [Remove extra semi colon from infrasec/authorization/audit/AclAuditor.cpp](https://github.com/ververica/ForSt/commit/4f04f967427007a6ae10d9bc927a3619eed1ab34 "Remove extra semi colon from infrasec/authorization/audit/AclAuditor.cpp  Summary: `-Wextra-semi` or `-Wextra-semi-stmt`  If the code compiles, this is safe to land.  Reviewed By: palmje  Differential Revision: D51995065  fbshipit-source-id: 9b55a0d8abd0927b76376cb7751bf0fcab10518c") | 3 years agoDec 8, 2023 |
| [utilities](https://github.com/ververica/ForSt/tree/main/utilities "utilities") | [utilities](https://github.com/ververica/ForSt/tree/main/utilities "utilities") | [\[FLINK-35928\]\[build\] Rename jclass to forst in \*.cc](https://github.com/ververica/ForSt/commit/2faec9e8b543cbf8aace84820ce42f7d47dd34af "[FLINK-35928][build] Rename jclass to forst in *.cc") | 2 years agoOct 18, 2024 |
| [.clang-format](https://github.com/ververica/ForSt/blob/main/.clang-format ".clang-format") | [.clang-format](https://github.com/ververica/ForSt/blob/main/.clang-format ".clang-format") | [A script that automatically reformat affected lines](https://github.com/ververica/ForSt/commit/d702d8073e2572a19c806fa53e484a25863f6df4 "A script that automatically reformat affected lines  Summary: Added a script that reformat only the affected lines in a given diff.  I planned to make that file as pre-commit hook but looks it's a little bit more difficult than I thought. Since I don't want to spend too much time on this task right now, I eventually added a \"make command\" to achieve this with a few additional key strokes.  Also make the clang-format solely inherited from Google's style -- there are still debates on some of the style issues, but we can address them later once we reach a consensus.  Test Plan: Did some ugly format change and ran \"make format\", all affected lines are formatted as expected.  Reviewers: igor, sdong, haobo  CC: leveldb  Differential Revision: https://reviews.facebook.net/D15147") | 13 years agoJan 14, 2014 |
| [.gitignore](https://github.com/ververica/ForSt/blob/main/.gitignore ".gitignore") | [.gitignore](https://github.com/ververica/ForSt/blob/main/.gitignore ".gitignore") | [\[misc\] Correct .gitignore (](https://github.com/ververica/ForSt/commit/60474f4998552003848d805ea64bec4ca82317af "[misc] Correct .gitignore (#24)") [#24](https://github.com/ververica/ForSt/pull/24) [)](https://github.com/ververica/ForSt/commit/60474f4998552003848d805ea64bec4ca82317af "[misc] Correct .gitignore (#24)") | 2 years agoOct 28, 2024 |
| [.lgtm.yml](https://github.com/ververica/ForSt/blob/main/.lgtm.yml ".lgtm.yml") | [.lgtm.yml](https://github.com/ververica/ForSt/blob/main/.lgtm.yml ".lgtm.yml") | [Create lgtm.yml for LGTM.com C/C++ analysis (#4058)](https://github.com/ververica/ForSt/commit/967aa8157afb2fcca2888c703c0abe188e9cb4c6 "Create lgtm.yml for LGTM.com C/C++ analysis (#4058)  Summary: As discussed with thatsafunnyname [here](https://discuss.lgtm.com/t/c-c-lang-missing-for-facebook-rocksdb/1079): this configuration enables C/C++ analysis for RocksDB on LGTM.com.  The initial commit will contain a build command (simple `make`) that previously resulted in a build error. The build log will then be available on LGTM.com for you to investigate (if you like). I'll immediately add a second commit to this PR to correct the build command to `make static_lib`, which worked when I tested it earlier today.  If you like you can also enable automatic code review in pull requests. This will alert you to any new code issues before they actually get merged into `master`. Here's an example of how that works for the AMPHTML project: https://github.com/ampproject/amphtml/pull/13060. You can enable it yourself here: https://lgtm.com/projects/g/facebook/rocksdb/ci/.  I'll also add a badge to your README.md in a separate commit — feel free to remove that from this PR if you don't like it.  (Full disclosure: I'm part of the LGTM.com team :slightly_smiling_face:. Ping samlanning) Closes https://github.com/facebook/rocksdb/pull/4058  Differential Revision: D8648410  Pulled By: ajkr  fbshipit-source-id: 98d55fc19cff1b07268ac8425b63e764806065aa") | 8 years agoJun 26, 2018 |
| [.watchmanconfig](https://github.com/ververica/ForSt/blob/main/.watchmanconfig ".watchmanconfig") | [.watchmanconfig](https://github.com/ververica/ForSt/blob/main/.watchmanconfig ".watchmanconfig") | [Added .watchmanconfig file to rocksdb repo (#5593)](https://github.com/ververica/ForSt/commit/0be1feec216cfdbc1c8feab95c88dad2eefab3df "Added .watchmanconfig file to rocksdb repo (#5593)  Summary: Added .watchmanconfig file to rocksdb repo. It is currently .gitignored. This allows to auto sync modified files with watchman when editing them remotely. Pull Request resolved: https://github.com/facebook/rocksdb/pull/5593  Differential Revision: D16363860  Pulled By: elipoz  fbshipit-source-id: 5ae221e21c6c757ceb08877771550d508f773d55") | 7 years agoJul 19, 2019 |
| [AUTHORS](https://github.com/ververica/ForSt/blob/main/AUTHORS "AUTHORS") | [AUTHORS](https://github.com/ververica/ForSt/blob/main/AUTHORS "AUTHORS") | [Update RocksDB Authors File](https://github.com/ververica/ForSt/commit/b74999458f1f2a974435f748c8c51628dd8134d8 "Update RocksDB Authors File  Summary: Update RocksDB Authors File.  Reviewed By: yiwu-arbug  Differential Revision: D6075453  fbshipit-source-id: dff52f483aab33c41de391f145a8273acfd6cbde") | 9 years agoOct 18, 2017 |
| [CMakeLists.txt](https://github.com/ververica/ForSt/blob/main/CMakeLists.txt "CMakeLists.txt") | [CMakeLists.txt](https://github.com/ververica/ForSt/blob/main/CMakeLists.txt "CMakeLists.txt") | [\[build\] Fixing ci error (](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") [#22](https://github.com/ververica/ForSt/pull/22) [)](https://github.com/ververica/ForSt/commit/58196552d7d4ca845ec37966fafb0d6c7f7d800f "[build] Fixing ci error (#22)") | 2 years agoOct 24, 2024 |
| [CODE\_OF\_CONDUCT.md](https://github.com/ververica/ForSt/blob/main/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") | [CODE\_OF\_CONDUCT.md](https://github.com/ververica/ForSt/blob/main/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") | [Adopt Contributor Covenant](https://github.com/ververica/ForSt/commit/9a449865e3963e7cff0bc7fc7f0731d3dea459de "Adopt Contributor Covenant  Summary: In order to foster healthy open source communities, we're adopting the [Contributor Covenant](https://www.contributor-covenant.org/). It has been built by open source community members and represents a shared understanding of what is expected from a healthy community.  Reviewed By: josephsavona, danobi, rdzhabarov  Differential Revision: D17104640  fbshipit-source-id: d210000de686c5f0d97d602b50472d5869bc6a49") | 7 years agoAug 30, 2019 |
| [CONTRIBUTING.md](https://github.com/ververica/ForSt/blob/main/CONTRIBUTING.md "CONTRIBUTING.md") | [CONTRIBUTING.md](https://github.com/ververica/ForSt/blob/main/CONTRIBUTING.md "CONTRIBUTING.md") | [\[build\] license and READMEs (](https://github.com/ververica/ForSt/commit/09ba94fc277a872445f29a4d95e94b656b852fd2 "[build] license and READMEs (#9)") [#9](https://github.com/ververica/ForSt/pull/9) [)](https://github.com/ververica/ForSt/commit/09ba94fc277a872445f29a4d95e94b656b852fd2 "[build] license and READMEs (#9)") | 2 years agoMar 12, 2024 |
| [FORST-RELEASE.md](https://github.com/ververica/ForSt/blob/main/FORST-RELEASE.md "FORST-RELEASE.md") | [FORST-RELEASE.md](https://github.com/ververica/ForSt/blob/main/FORST-RELEASE.md "FORST-RELEASE.md") | [\[build\] Support releasing forst](https://github.com/ververica/ForSt/commit/5d70ad0574987a530453cdd619ddd8aa6c476c45 "[build] Support releasing forst") | 2 years agoApr 9, 2024 |
| [HISTORY.md](https://github.com/ververica/ForSt/blob/main/HISTORY.md "HISTORY.md") | [HISTORY.md](https://github.com/ververica/ForSt/blob/main/HISTORY.md "HISTORY.md") | [\[build\] Fix packaging error](https://github.com/ververica/ForSt/commit/b1015fe746963780b9a53a0d0b10a3918f50b635 "[build] Fix packaging error") | 2 years agoOct 23, 2024 |
| [INSTALL.md](https://github.com/ververica/ForSt/blob/main/INSTALL.md "INSTALL.md") | [INSTALL.md](https://github.com/ververica/ForSt/blob/main/INSTALL.md "INSTALL.md") | [RocksDB now requires gflags v2.2.0 (#10933)](https://github.com/ververica/ForSt/commit/c13569e41de33ec34d2e45ecf76acaa1800b6848 "RocksDB now requires gflags v2.2.0 (#10933)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/10933  Reviewed By: jaykorean  Differential Revision: D49872302  Pulled By: jowlyzhang  fbshipit-source-id: 15f4e177bed59455ff58a0b48a3f6a55973d0b38") | 3 years agoOct 3, 2023 |
| [LANGUAGE-BINDINGS.md](https://github.com/ververica/ForSt/blob/main/LANGUAGE-BINDINGS.md "LANGUAGE-BINDINGS.md") | [LANGUAGE-BINDINGS.md](https://github.com/ververica/ForSt/blob/main/LANGUAGE-BINDINGS.md "LANGUAGE-BINDINGS.md") | [Add grocksdb in Go language bindings (#10498)](https://github.com/ververica/ForSt/commit/616f3bd02ec42cb909ac83c2e8ce82697ca36699 "Add grocksdb in Go language bindings (#10498)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/10498  Reviewed By: hx235  Differential Revision: D38523574  Pulled By: ajkr  fbshipit-source-id: 4df46fe3bfe49335a278594dfe6fd887879e71ec") | 4 years agoAug 23, 2022 |
| [LICENSE](https://github.com/ververica/ForSt/blob/main/LICENSE "LICENSE") | [LICENSE](https://github.com/ververica/ForSt/blob/main/LICENSE "LICENSE") | [\[build\] license and READMEs (](https://github.com/ververica/ForSt/commit/09ba94fc277a872445f29a4d95e94b656b852fd2 "[build] license and READMEs (#9)") [#9](https://github.com/ververica/ForSt/pull/9) [)](https://github.com/ververica/ForSt/commit/09ba94fc277a872445f29a4d95e94b656b852fd2 "[build] license and READMEs (#9)") | 2 years agoMar 12, 2024 |
| [LICENSE.leveldb](https://github.com/ververica/ForSt/blob/main/LICENSE.leveldb "LICENSE.leveldb") | [LICENSE.leveldb](https://github.com/ververica/ForSt/blob/main/LICENSE.leveldb "LICENSE.leveldb") | [Add back the LevelDB license file](https://github.com/ververica/ForSt/commit/4a2e4891fe4c6f66fb9e8e2d29b04f46ee702b52 "Add back the LevelDB license file  Summary: Closes https://github.com/facebook/rocksdb/pull/2591  Differential Revision: D5432696  Pulled By: siying  fbshipit-source-id: a613230ab916de0b279a65ef429ede65460a8db2") | 9 years agoJul 16, 2017 |
| [Makefile](https://github.com/ververica/ForSt/blob/main/Makefile "Makefile") | [Makefile](https://github.com/ververica/ForSt/blob/main/Makefile "Makefile") | [\[build\] Bump version to 0.1.8](https://github.com/ververica/ForSt/commit/c8c559f73500d7701416393506665b91c76a842d "[build] Bump version to 0.1.8") | 10 months agoMar 9, 2025 |
| [PLUGINS.md](https://github.com/ververica/ForSt/blob/main/PLUGINS.md "PLUGINS.md") | [PLUGINS.md](https://github.com/ververica/ForSt/blob/main/PLUGINS.md "PLUGINS.md") | [Add encfs plugin link (#12070)](https://github.com/ververica/ForSt/commit/37064d631bff69167afbe759f32aa915027ab192 "Add encfs plugin link (#12070)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/12070  Reviewed By: jaykorean  Differential Revision: D51307148  Pulled By: ajkr  fbshipit-source-id: d04335506becd5970802f87ab0573b6307479222") | 3 years agoNov 14, 2023 |
| [README.md](https://github.com/ververica/ForSt/blob/main/README.md "README.md") | [README.md](https://github.com/ververica/ForSt/blob/main/README.md "README.md") | [Update README to remove hosting details](https://github.com/ververica/ForSt/commit/aaff20711ac2edaa87ed8338831235f8c8984c88 "Update README to remove hosting details  Removed hosting information about Ververica.") | 5 days agoJan 13, 2026 |
| [TARGETS](https://github.com/ververica/ForSt/blob/main/TARGETS "TARGETS") | [TARGETS](https://github.com/ververica/ForSt/blob/main/TARGETS "TARGETS") | [\[hotfix\] Regenerate TARGETS](https://github.com/ververica/ForSt/commit/971d425ef2dd34a5d9d7ee9683ad0af9b4c472ac "[hotfix] Regenerate TARGETS") | 2 years agoFeb 22, 2024 |
| [USERS.md](https://github.com/ververica/ForSt/blob/main/USERS.md "USERS.md") | [USERS.md](https://github.com/ververica/ForSt/blob/main/USERS.md "USERS.md") | [Add Qdrant to USERS.md (#12072)](https://github.com/ververica/ForSt/commit/a9bd525b52dd3a44fdb4d38030ab314d6623950d "Add Qdrant to USERS.md (#12072)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/12072  Reviewed By: cbi42  Differential Revision: D51398080  Pulled By: ajkr  fbshipit-source-id: 1043f2b012bd744e9c53c638e1ba56a3e0392e11") | 3 years agoNov 16, 2023 |
| [Vagrantfile](https://github.com/ververica/ForSt/blob/main/Vagrantfile "Vagrantfile") | [Vagrantfile](https://github.com/ververica/ForSt/blob/main/Vagrantfile "Vagrantfile") | [\[FLINK-10471\] Add Apache Flink specific compaction filter to evict ex…](https://github.com/ververica/ForSt/commit/c486bb9e42cca1c867a108586c31697ef37b1d30 "[FLINK-10471] Add Apache Flink specific compaction filter to evict expired state which has time-to-live") | 3 years agoSep 8, 2023 |
| [WINDOWS\_PORT.md](https://github.com/ververica/ForSt/blob/main/WINDOWS_PORT.md "WINDOWS_PORT.md") | [WINDOWS\_PORT.md](https://github.com/ververica/ForSt/blob/main/WINDOWS_PORT.md "WINDOWS_PORT.md") | [Update branch name in WINDOWS\_PORT.md (#8745)](https://github.com/ververica/ForSt/commit/b9e98728192d56cd26008daa6f80a7fa4c1e1225 "Update branch name in WINDOWS_PORT.md (#8745)  Summary: Pull Request resolved: https://github.com/facebook/rocksdb/pull/8745  Reviewed By: jay-zhuang  Differential Revision: D30718273  Pulled By: ltamasi  fbshipit-source-id: f0f4d592a71a327e731a5eef0f01488074d99118") | 5 years agoSep 1, 2021 |
| [common.mk](https://github.com/ververica/ForSt/blob/main/common.mk "common.mk") | [common.mk](https://github.com/ververica/ForSt/blob/main/common.mk "common.mk") | [Clean up variables for temporary directory (#9961)](https://github.com/ververica/ForSt/commit/e03d958b9166de6f29288f2ed854722b36cd3e0e "Clean up variables for temporary directory (#9961)  Summary: Having all of TMPD, TMPDIR and TEST_TMPDIR as configuration parameters is confusing. This change simplifies a number of things by standardizing on TEST_TMPDIR, while still recognizing the old names also. In detail: * crash_test.mk also needs to use TEST_TMPDIR for crash test, so put in shared common.mk (an upgrade of python.mk) * Always exporting TEST_TMPDIR eliminates the need to propagate TMPD or export TEST_TMPDIR in selective places. * Use --tmpdir option to gnu_parallel so that it doesn't need TMPDIR environment variable * Remove obsolete parloop and parallel_check Makefile targets * Remove undefined, unused function ResetTmpDirForDirectIO()  Pull Request resolved: https://github.com/facebook/rocksdb/pull/9961  Test Plan: manual + CI  Reviewed By: riversand963  Differential Revision: D36212178  Pulled By: pdillinger  fbshipit-source-id: b76c1876c4f4d38b37789c2779eaa7c3026824dd") | 4 years agoMay 6, 2022 |
| [crash\_test.mk](https://github.com/ververica/ForSt/blob/main/crash_test.mk "crash_test.mk") | [crash\_test.mk](https://github.com/ververica/ForSt/blob/main/crash_test.mk "crash_test.mk") | [Stress/Crash Test for OptimisticTransactionDB (#11513)](https://github.com/ververica/ForSt/commit/17d520050460c3374547a633a4bbe57b9ef298c4 "Stress/Crash Test for OptimisticTransactionDB (#11513)  Summary: Context: OptimisticTransactionDB has not been covered by db_stress (including crash test) like TransactionDB. 1. Adding the following gflag options to to test OptimisticTransactionDB - `use_optimistic_txn`: When true, open OptimisticTransactionDB to test - `occ_validation_policy`: `OccValidationPolicy::kValidateParallel = 1` by default. - `share_occ_lock_buckets`: Use shared occ locks - `occ_lock_bucket_count`: 500 by default. Number of buckets to use for shared occ lock. 2. Opening OptimisticTransactionDB and NewTxn/Commit added per `use_optimistic_txn` flag in `db_stress_test_base.cc` 3. OptimisticTransactionDB blackbox/whitebox test added in crash_test.mk  Please note that the existing flag `use_txn` is being used here. When `use_txn == true` and `use_optimistic_txn == false`, we use `TransactionDB` (a.k.a. pessimistic transaction db). When both `use_txn` and `use_optimistic_txn` are true, we use `OptimisticTransactionDB`. If `use_txn == false` but `use_optimistic_txn == true` throw error with message _\"You cannot set use_optimistic_txn true while use_txn is false. Please set use_txn true if you want to use OptimisticTransactionDB\"_.  Pull Request resolved: https://github.com/facebook/rocksdb/pull/11513  Test Plan: **Crash Test** Serial Validation ``` export CRASH_TEST_EXT_ARGS=\"--use_optimistic_txn=1 --use_txn=1 --use_put_entity_one_in=0 --occ_validation_policy=0\" make crash_test -j ``` Parallel Validation (no share bucket) ``` export CRASH_TEST_EXT_ARGS=\"--use_optimistic_txn=1 --use_txn=1 --use_put_entity_one_in=0 --occ_validation_policy=1 --share_occ_lock_buckets=0\" make crash_test -j ``` Parallel Validation (share bucket) ``` export CRASH_TEST_EXT_ARGS=\"--use_optimistic_txn=1 --use_txn=1 --use_put_entity_one_in=0 --occ_validation_policy=1 --share_occ_lock_buckets=1 --occ_lock_bucket_count=500\" make crash_test -j ```  **Stress Test** ``` ./db_stress -use_optimistic_txn -threads=32 ```  Reviewed By: pdillinger  Differential Revision: D46547387  Pulled By: jaykorean  fbshipit-source-id: ca19819ca6e0281694966998014b40d95d4e5960") | 3 years agoJun 17, 2023 |
| [rocksdb.pc.in](https://github.com/ververica/ForSt/blob/main/rocksdb.pc.in "rocksdb.pc.in") | [rocksdb.pc.in](https://github.com/ververica/ForSt/blob/main/rocksdb.pc.in "rocksdb.pc.in") | [build: fix pkg-config file generation (#9953)](https://github.com/ververica/ForSt/commit/a0f391cafc260a4babe0b776244af3eff31b5acf "build: fix pkg-config file generation (#9953)  Summary: - Instead of hardcoding \"lib\" and \"include\" in `libdir` and `includedir`, use the values from [`GNUInstallDirs`](https://cmake.org/cmake/help/latest/module/GNUInstallDirs.html).  - Use `PROJECT_DESCRIPTION` and `PROJECT_HOMEPAGE_URL` instead of their `CMAKE_` conterparts to fix pkg-config generation when rocksdb is not the top-level project (see [`project()`](https://cmake.org/cmake/help/latest/command/project.html)).  - Drop explicit `CMAKE_CURRENT_SOURCE_DIR` and `CMAKE_CURRENT_BINARY_DIR` in [`configure_file()`](https://cmake.org/cmake/help/latest/command/configure_file.html) as that's implied by default (and quite intuitive).  See https://github.com/facebook/rocksdb/issues/9945 CC: trynity  Pull Request resolved: https://github.com/facebook/rocksdb/pull/9953  Reviewed By: ajkr  Differential Revision: D36716373  Pulled By: jay-zhuang  fbshipit-source-id: 57840eeb4453099fa1fe861dc03366085dbca704") | 4 years agoMay 30, 2022 |
| [src.mk](https://github.com/ververica/ForSt/blob/main/src.mk "src.mk") | [src.mk](https://github.com/ververica/ForSt/blob/main/src.mk "src.mk") | [\[FLINK-35928\]\[build\] rename namespace/jni to forst](https://github.com/ververica/ForSt/commit/ab5912faf684b6048056c700283a6d6f6fb57abb "[FLINK-35928][build] rename namespace/jni to forst") | 2 years agoSep 26, 2024 |
| [thirdparty.inc](https://github.com/ververica/ForSt/blob/main/thirdparty.inc "thirdparty.inc") | [thirdparty.inc](https://github.com/ververica/ForSt/blob/main/thirdparty.inc "thirdparty.inc") | [Fix build jemalloc api (#5470)](https://github.com/ververica/ForSt/commit/acb80534cac798d250ee85812f0e45112f2e4b66 "Fix build jemalloc api (#5470)  Summary: There is a compile error on Windows with MSVC in malloc_stats.cc where malloc_stats_print is referenced. The compiler only knows je_malloc_stats_print from jemalloc.h. Adding JEMALLOC_NO_RENAME replaces malloc_stats_print with je_malloc_stats_print. Pull Request resolved: https://github.com/facebook/rocksdb/pull/5470  Differential Revision: D15978720  fbshipit-source-id: c05757a2e89e2e015a661d9626c352e4f32f97e4") | 7 years agoJun 24, 2019 |
| View all files |

## Repository files navigation

## ForSt: A Persistent Key-Value Store designed for Streaming processing

[Permalink: ForSt: A Persistent Key-Value Store designed for Streaming processing](https://github.com/ververica/ForSt#forst-a-persistent-key-value-store-designed-for-streaming-processing)

ForSt is built on top of [RocksDB](https://github.com/facebook/rocksdb) by facebook.

This code is a library that forms the core building block for a fast
key-value server, especially suited for storing data on flash drives.
It has a Log-Structured-Merge-Database (LSM) design with flexible tradeoffs
between Write-Amplification-Factor (WAF), Read-Amplification-Factor (RAF)
and Space-Amplification-Factor (SAF). It has multi-threaded compactions,
making it especially suitable for storing multiple terabytes of data in a
single database.

See the [github wiki](https://github.com/facebook/rocksdb/wiki) for more explanation.

The public interface is in `include/`. Callers should not include or
rely on the details of any other header files in this package. Those
internal APIs may be changed without warning.

Questions and discussions are welcome on the [Discussion](https://github.com/ververica/ForSt/discussions).

## License

[Permalink: License](https://github.com/ververica/ForSt#license)

ForSt is licensed under Apache 2.0 License.

## About

A Persistent Key-Value Store designed for Streaming processing


### Resources

[Readme](https://github.com/ververica/ForSt#readme-ov-file)

### License

Apache-2.0, Unknown licenses found


### Licenses found

[Apache-2.0\\
\\
LICENSE](https://github.com/ververica/ForSt/blob/main/LICENSE) [Unknown\\
\\
LICENSE.leveldb](https://github.com/ververica/ForSt/blob/main/LICENSE.leveldb)

### Code of conduct

[Code of conduct](https://github.com/ververica/ForSt#coc-ov-file)

### Contributing

[Contributing](https://github.com/ververica/ForSt#contributing-ov-file)

### Uh oh!

There was an error while loading. [Please reload this page](https://github.com/ververica/ForSt).

[Activity](https://github.com/ververica/ForSt/activity)

[Custom properties](https://github.com/ververica/ForSt/custom-properties)

### Stars

[**119**\\
stars](https://github.com/ververica/ForSt/stargazers)

### Watchers

[**7**\\
watching](https://github.com/ververica/ForSt/watchers)

### Forks

[**22**\\
forks](https://github.com/ververica/ForSt/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fververica%2FForSt&report=ververica+%28user%29)

## [Releases\  2](https://github.com/ververica/ForSt/releases)

[v0.1.4-beta\\
Latest\\
\\
on Dec 10, 2024Dec 10, 2024](https://github.com/ververica/ForSt/releases/tag/v0.1.4-beta)

[\+ 1 release](https://github.com/ververica/ForSt/releases)

### Uh oh!

There was an error while loading. [Please reload this page](https://github.com/ververica/ForSt).

## [Contributors\  725](https://github.com/ververica/ForSt/graphs/contributors)

- [![@siying](https://avatars.githubusercontent.com/u/5334567?s=64&v=4)](https://github.com/siying)
- [![@igorcanadi](https://avatars.githubusercontent.com/u/1091023?s=64&v=4)](https://github.com/igorcanadi)
- [![@ajkr](https://avatars.githubusercontent.com/u/4780362?s=64&v=4)](https://github.com/ajkr)
- [![@yhchiang](https://avatars.githubusercontent.com/u/6447975?s=64&v=4)](https://github.com/yhchiang)
- [![@pdillinger](https://avatars.githubusercontent.com/u/7980268?s=64&v=4)](https://github.com/pdillinger)
- [![@riversand963](https://avatars.githubusercontent.com/u/20094703?s=64&v=4)](https://github.com/riversand963)
- [![@ltamasi](https://avatars.githubusercontent.com/u/47607618?s=64&v=4)](https://github.com/ltamasi)
- [![@maysamyabandeh](https://avatars.githubusercontent.com/u/1167741?s=64&v=4)](https://github.com/maysamyabandeh)
- [![@IslamAbdelRahman](https://avatars.githubusercontent.com/u/1676006?s=64&v=4)](https://github.com/IslamAbdelRahman)
- [![@adamretter](https://avatars.githubusercontent.com/u/1264057?s=64&v=4)](https://github.com/adamretter)
- [![@jay-zhuang](https://avatars.githubusercontent.com/u/33968?s=64&v=4)](https://github.com/jay-zhuang)
- [![@dhruba](https://avatars.githubusercontent.com/u/155266?s=64&v=4)](https://github.com/dhruba)
- [![@fyrz](https://avatars.githubusercontent.com/u/8895490?s=64&v=4)](https://github.com/fyrz)
- [![@yuslepukhin](https://avatars.githubusercontent.com/u/11303988?s=64&v=4)](https://github.com/yuslepukhin)

[\+ 711 contributors](https://github.com/ververica/ForSt/graphs/contributors)

## Languages

- [C++83.4%](https://github.com/ververica/ForSt/search?l=c%2B%2B)
- [Java10.2%](https://github.com/ververica/ForSt/search?l=java)
- [C1.7%](https://github.com/ververica/ForSt/search?l=c)
- [Python1.5%](https://github.com/ververica/ForSt/search?l=python)
- [Perl1.0%](https://github.com/ververica/ForSt/search?l=perl)
- [Shell0.9%](https://github.com/ververica/ForSt/search?l=shell)
- Other1.3%

You can’t perform that action at this time.