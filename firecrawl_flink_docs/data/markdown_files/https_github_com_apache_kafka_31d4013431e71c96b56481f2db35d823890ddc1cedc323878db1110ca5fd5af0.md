[Skip to content](https://github.com/apache/kafka#start-of-content)

You signed in with another tab or window. [Reload](https://github.com/apache/kafka) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/apache/kafka) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/apache/kafka) to refresh your session.Dismiss alert

{{ message }}

[apache](https://github.com/apache)/ **[kafka](https://github.com/apache/kafka)** Public

- [Notifications](https://github.com/login?return_to=%2Fapache%2Fkafka) You must be signed in to change notification settings
- [Fork\\
14.9k](https://github.com/login?return_to=%2Fapache%2Fkafka)
- [Star\\
31.7k](https://github.com/login?return_to=%2Fapache%2Fkafka)


Mirror of Apache Kafka


### License

Apache-2.0, Apache-2.0 licenses found


### Licenses found

[Apache-2.0\\
\\
LICENSE](https://github.com/apache/kafka/blob/trunk/LICENSE) [Apache-2.0\\
\\
LICENSE-binary](https://github.com/apache/kafka/blob/trunk/LICENSE-binary)

[31.7k\\
stars](https://github.com/apache/kafka/stargazers) [14.9k\\
forks](https://github.com/apache/kafka/forks) [Branches](https://github.com/apache/kafka/branches) [Tags](https://github.com/apache/kafka/tags) [Activity](https://github.com/apache/kafka/activity)

[Star](https://github.com/login?return_to=%2Fapache%2Fkafka)

[Notifications](https://github.com/login?return_to=%2Fapache%2Fkafka) You must be signed in to change notification settings

# apache/kafka

trunk

[**86** Branches](https://github.com/apache/kafka/branches) [**284** Tags](https://github.com/apache/kafka/tags)

[Go to Branches page](https://github.com/apache/kafka/branches)[Go to Tags page](https://github.com/apache/kafka/tags)

Go to file

Code

Open more actions menu

## Folders and files

| Name | Name | Last commit message | Last commit date |
| --- | --- | --- | --- |
| ## Latest commit<br>[![mjsax](https://avatars.githubusercontent.com/u/8959638?v=4&size=40)](https://github.com/mjsax)[mjsax](https://github.com/apache/kafka/commits?author=mjsax)<br>[MINOR: update notable changes for 4.1.0 release (](https://github.com/apache/kafka/commit/8ce1a51bed77cd5ba2f944cc6eed9fb1e4d73b25) [#21307](https://github.com/apache/kafka/pull/21307) [)](https://github.com/apache/kafka/commit/8ce1a51bed77cd5ba2f944cc6eed9fb1e4d73b25)<br>Open commit detailssuccess<br>18 hours agoJan 17, 2026<br>[8ce1a51](https://github.com/apache/kafka/commit/8ce1a51bed77cd5ba2f944cc6eed9fb1e4d73b25) · 18 hours agoJan 17, 2026<br>## History<br>[16,863 Commits](https://github.com/apache/kafka/commits/trunk/) <br>Open commit details<br>[View commit history for this file.](https://github.com/apache/kafka/commits/trunk/) |
| [.github](https://github.com/apache/kafka/tree/trunk/.github ".github") | [.github](https://github.com/apache/kafka/tree/trunk/.github ".github") | [KAFKA-19715](https://issues.apache.org/jira/browse/KAFKA-19715) [Consider bumping 3rd party Github Actions (](https://github.com/apache/kafka/commit/19b655fa9959d9ebe1812c54e5a6ae80f78d0dd9 "KAFKA-19715 Consider bumping 3rd party Github Actions (#20929)  This PR bumps the versions of docker/setup-qemu-action from 3.6 to 3.7.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#20929](https://github.com/apache/kafka/pull/20929) [)](https://github.com/apache/kafka/commit/19b655fa9959d9ebe1812c54e5a6ae80f78d0dd9 "KAFKA-19715 Consider bumping 3rd party Github Actions (#20929)  This PR bumps the versions of docker/setup-qemu-action from 3.6 to 3.7.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | 2 months agoNov 20, 2025 |
| [bin](https://github.com/apache/kafka/tree/trunk/bin "bin") | [bin](https://github.com/apache/kafka/tree/trunk/bin "bin") | [MINOR: Scala, Scalafmt and Scalac SCoverage plugin version updates (](https://github.com/apache/kafka/commit/58e136c1e96dbcad9f38b1e269c236e93344c8e4 "MINOR: Scala, Scalafmt and Scalac SCoverage plugin version updates (#21086)  details: - Scala: 2.13.17 -->> 2.13.18 (note: Java compatible versions: from 8 to 26) - Scalafmt: 3.10.0 -->> 3.10.2 - scalac scoverage plugin: 2.4.0 -->> 2.5.1  release notes:  - Scala: https://github.com/scala/scala/releases/tag/v2.13.18  - Scalafmt:   - https://github.com/scalameta/scalafmt/releases/tag/v3.10.1   - https://github.com/scalameta/scalafmt/releases/tag/v3.10.2  - scalac scoverage plugin: ``` https://github.com/scoverage/scalac-scoverage-plugin/releases/tag/v2.4.1 https://github.com/scoverage/scalac-scoverage-plugin/releases/tag/v2.4.2 https://github.com/scoverage/scalac-scoverage-plugin/releases/tag/v2.5.0 https://github.com/scoverage/scalac-scoverage-plugin/releases/tag/v2.5.1 ```  > :warning: Note: I just had to format scalac scoverage plugin links above like`code` due to a fact that github-actions bot is overzealous (and it constantly forcing bad formatting by adding wrong oversized heading).  Reviewers: Matthias J. Sax <matthias@confluent.io>, Ming-Yen Chung  <mingyen066@gmail.com>, Chia-Ping Tsai <chia7712@gmail.com>") [#…](https://github.com/apache/kafka/pull/21086) | last monthDec 11, 2025 |
| [checkstyle](https://github.com/apache/kafka/tree/trunk/checkstyle "checkstyle") | [checkstyle](https://github.com/apache/kafka/tree/trunk/checkstyle "checkstyle") | [KAFKA-19817](https://issues.apache.org/jira/browse/KAFKA-19817) [Move DynamicTopicClusterQuotaPublisher to metadata module (](https://github.com/apache/kafka/commit/06185618b169274914c27d7bcb46a5fa8c1c54f6 "KAFKA-19817 Move DynamicTopicClusterQuotaPublisher to metadata module (#20783)  see: [KAFKA-19817](https://issues.apache.org/jira/browse/KAFKA-19817) This PR intended to move `DynamicTopicClusterQuotaPublisher`  to the metadata module . To prevent circular dependencies, several associated classes have been migrated as well，including `ClientSensors` , `ClientQuotaMetadataManager`, `ThrottleCallback` and `ThrottledChannel`. Additionally, a new interface `QuotaManagersProvider` has been introduced to avoid the need to move class `QuotaManagers` in `QuotaFactory`, as doing so would have necessitated significantly more extensive changes.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") […](https://github.com/apache/kafka/pull/20783) | 18 hours agoJan 17, 2026 |
| [clients](https://github.com/apache/kafka/tree/trunk/clients "clients") | [clients](https://github.com/apache/kafka/tree/trunk/clients "clients") | [KAFKA-20065](https://issues.apache.org/jira/browse/KAFKA-20065) [: Improve code examples in consumer javadoc (](https://github.com/apache/kafka/commit/7157c05cc9e2834e227a23207d70520b07793441 "KAFKA-20065: Improve code examples in consumer javadoc (#21299)  The code examples in the javadoc often include HTML escaping for double quotes and angle brackets. This can be avoided by tagging the code examples as code, as opposed to just preformatted. The benefit is that the code examples are much more readable in the source code, which makes them much easier for the code authors to read and get correct.  Reviewers: Apoorv Mittal <apoorvmittal10@gmail.com>") [#21299](https://github.com/apache/kafka/pull/21299) [)](https://github.com/apache/kafka/commit/7157c05cc9e2834e227a23207d70520b07793441 "KAFKA-20065: Improve code examples in consumer javadoc (#21299)  The code examples in the javadoc often include HTML escaping for double quotes and angle brackets. This can be avoided by tagging the code examples as code, as opposed to just preformatted. The benefit is that the code examples are much more readable in the source code, which makes them much easier for the code authors to read and get correct.  Reviewers: Apoorv Mittal <apoorvmittal10@gmail.com>") | 3 days agoJan 15, 2026 |
| [committer-tools](https://github.com/apache/kafka/tree/trunk/committer-tools "committer-tools") | [committer-tools](https://github.com/apache/kafka/tree/trunk/committer-tools "committer-tools") | [KAFKA-18913](https://issues.apache.org/jira/browse/KAFKA-18913) [: Remove all code related to non-stateupdater path (](https://github.com/apache/kafka/commit/73dc373714c3602ba4211fbe5602ddfd8fb252e2 "KAFKA-18913: Remove all code related to non-stateupdater path (#21059)  This PR cleans up all non stateupdater code. We also remove the config `__state.updater.enabled__` which means users will no longer have the option to disable the stateupdater.  Reviewers: Lucas Brutschy <lbrutschy@confluent.io>") [#21059](https://github.com/apache/kafka/pull/21059) [)](https://github.com/apache/kafka/commit/73dc373714c3602ba4211fbe5602ddfd8fb252e2 "KAFKA-18913: Remove all code related to non-stateupdater path (#21059)  This PR cleans up all non stateupdater code. We also remove the config `__state.updater.enabled__` which means users will no longer have the option to disable the stateupdater.  Reviewers: Lucas Brutschy <lbrutschy@confluent.io>") | last monthDec 10, 2025 |
| [config](https://github.com/apache/kafka/tree/trunk/config "config") | [config](https://github.com/apache/kafka/tree/trunk/config "config") | [KAFKA-19574](https://issues.apache.org/jira/browse/KAFKA-19574) [: Improve producer and consumer config files (](https://github.com/apache/kafka/commit/2ba30cc466fd854b6ed7fa2afd157a80fcf7382a "KAFKA-19574: Improve producer and consumer config files (#20302)  This is an attempt at improving the client configuration files. We now have sections and comments similar to the other properties files.  Reviewers: Kirk True <ktrue@confluent.io>, Luke Chen <showuon@gmail.com>  ---------  Signed-off-by: Federico Valeri <fedevaleri@gmail.com>") [#20302](https://github.com/apache/kafka/pull/20302) [)](https://github.com/apache/kafka/commit/2ba30cc466fd854b6ed7fa2afd157a80fcf7382a "KAFKA-19574: Improve producer and consumer config files (#20302)  This is an attempt at improving the client configuration files. We now have sections and comments similar to the other properties files.  Reviewers: Kirk True <ktrue@confluent.io>, Luke Chen <showuon@gmail.com>  ---------  Signed-off-by: Federico Valeri <fedevaleri@gmail.com>") | 5 months agoSep 1, 2025 |
| [connect](https://github.com/apache/kafka/tree/trunk/connect "connect") | [connect](https://github.com/apache/kafka/tree/trunk/connect "connect") | [MINOR: Fix Javadoc parsing issues for Checkstyle (](https://github.com/apache/kafka/commit/aaca67ceed47b5b10fd90ba10d555227046e5dbb "MINOR: Fix Javadoc parsing issues for Checkstyle (#21200)  ### Summary  This PR fixes Javadoc issues exposed by the updated Checkstyle Javadoc parser, specifically in relation to `UnusedImportsCheck`.  ### Details  After updating Checkstyle, several Javadocs started failing parsing and caused false positives in `UnusedImportsCheck`.    The root cause is stricter Javadoc parsing introduced in Checkstyle (see https://github.com/checkstyle/checkstyle/pull/18059), where malformed HTML and invalid `{@link}` usages prevent the parser from correctly identifying type references.  The fixes in this PR: - Correct malformed HTML in Javadocs (for example invalid `<ul>/<li>` structures and unclosed tags). - Fix invalid `{@link}` syntax - Ensure referenced types are properly resolvable by the Javadoc parser so that imports are correctly detected as used.  There are no behavioral or API changes. All modifications are limited to Javadoc formatting and correctness.  Reviewers: Andrew Schofield <aschofield@confluent.io>") [#21200](https://github.com/apache/kafka/pull/21200) [)](https://github.com/apache/kafka/commit/aaca67ceed47b5b10fd90ba10d555227046e5dbb "MINOR: Fix Javadoc parsing issues for Checkstyle (#21200)  ### Summary  This PR fixes Javadoc issues exposed by the updated Checkstyle Javadoc parser, specifically in relation to `UnusedImportsCheck`.  ### Details  After updating Checkstyle, several Javadocs started failing parsing and caused false positives in `UnusedImportsCheck`.    The root cause is stricter Javadoc parsing introduced in Checkstyle (see https://github.com/checkstyle/checkstyle/pull/18059), where malformed HTML and invalid `{@link}` usages prevent the parser from correctly identifying type references.  The fixes in this PR: - Correct malformed HTML in Javadocs (for example invalid `<ul>/<li>` structures and unclosed tags). - Fix invalid `{@link}` syntax - Ensure referenced types are properly resolvable by the Javadoc parser so that imports are correctly detected as used.  There are no behavioral or API changes. All modifications are limited to Javadoc formatting and correctness.  Reviewers: Andrew Schofield <aschofield@confluent.io>") | 2 weeks agoJan 5, 2026 |
| [coordinator-common/src](https://github.com/apache/kafka/tree/trunk/coordinator-common/src "This path skips through empty directories") | [coordinator-common/src](https://github.com/apache/kafka/tree/trunk/coordinator-common/src "This path skips through empty directories") | [KAFKA-19519](https://issues.apache.org/jira/browse/KAFKA-19519) [Introduce group/share.coordinator.cached.buffer.max.bytes…](https://github.com/apache/kafka/commit/cb9280eceea37be40fbf46b7b9fab17dda0e1faf "KAFKA-19519 Introduce group/share.coordinator.cached.buffer.max.bytes config (#20847)  **Changes**  1. New Dynamic Configurations - `group.coordinator.cached.buffer.max.bytes`: Largest cached buffer size allowed by GroupCoordinator - `share.coordinator.cached.buffer.max.bytes`: Largest cached buffer size allowed by ShareCoordinator  Both configurations default to `1 * 1024 * 1024 + Records.LOG_OVERHEAD` with minimum value of `512 * 1024`.  2. Extended CoordinatorRuntime Builder Interface  Added withCachedBufferMaxBytesSupplier(Supplier<Integer> cachedBufferMaxBytesSupplier) method  to allow different coordinator implementations to supply their buffer  size configuration.  3. New Monitoring Metrics  - `batch-buffer-cache-size-bytes`: Current total size in bytes of the append buffers being held in the coordinator's cache - `batch-buffer-cache-discard-count`: Count of oversized append buffers that were discarded instead of being cached upon release  Reviewers: Sushant Mahajan <smahajan@confluent.io>, David Jacot  <djacot@confluent.io>, Sean Quah <squah@confluent.io>, Chia-Ping Tsai  <chia7712@gmail.com>") | last monthDec 11, 2025 |
| [core](https://github.com/apache/kafka/tree/trunk/core "core") | [core](https://github.com/apache/kafka/tree/trunk/core "core") | [KAFKA-19817](https://issues.apache.org/jira/browse/KAFKA-19817) [Move DynamicTopicClusterQuotaPublisher to metadata module (](https://github.com/apache/kafka/commit/06185618b169274914c27d7bcb46a5fa8c1c54f6 "KAFKA-19817 Move DynamicTopicClusterQuotaPublisher to metadata module (#20783)  see: [KAFKA-19817](https://issues.apache.org/jira/browse/KAFKA-19817) This PR intended to move `DynamicTopicClusterQuotaPublisher`  to the metadata module . To prevent circular dependencies, several associated classes have been migrated as well，including `ClientSensors` , `ClientQuotaMetadataManager`, `ThrottleCallback` and `ThrottledChannel`. Additionally, a new interface `QuotaManagersProvider` has been introduced to avoid the need to move class `QuotaManagers` in `QuotaFactory`, as doing so would have necessitated significantly more extensive changes.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") […](https://github.com/apache/kafka/pull/20783) | 18 hours agoJan 17, 2026 |
| [docker](https://github.com/apache/kafka/tree/trunk/docker "docker") | [docker](https://github.com/apache/kafka/tree/trunk/docker "docker") | [KAFKA-20063](https://issues.apache.org/jira/browse/KAFKA-20063) [Fix Docker build hang by reordering tar extraction before… (](https://github.com/apache/kafka/commit/41b33d82c9e10eb19144a0a3cfbb897187df1b5b "KAFKA-20063 Fix Docker build hang by reordering tar extraction before… (#21296)  The Docker build for Alpine images intermittently hangs during the tar extraction phase. This is caused by gcompat being loaded into the process space during the preceding gpg verification step, which interferes with Alpine's tar implementation and causes a deadlock.  see  https://blog.tsunanet.net/2022/09/tar-hanging-when-extracting-archive.html  Reviewers: Christo Lolov <lolovc@amazon.com>, TengYao Chi  <frankvicky@apache.org>, Ken Huang <s7133700@gmail.com>, PoAn Yang  <payang@apache.org>") | 5 days agoJan 12, 2026 |
| [docs](https://github.com/apache/kafka/tree/trunk/docs "docs") | [docs](https://github.com/apache/kafka/tree/trunk/docs "docs") | [MINOR: update notable changes for 4.1.0 release (](https://github.com/apache/kafka/commit/8ce1a51bed77cd5ba2f944cc6eed9fb1e4d73b25 "MINOR: update notable changes for 4.1.0 release (#21307)  We should highlight the most relevant feature, EA of KIP-1071. Removing KIP-1020 text as it's a minor change only.  Reviewers: Lucas Brutschy <lbrutschy@confluent.io>, Chia-Ping Tsai  <chia7712@gmail.com>") [#21307](https://github.com/apache/kafka/pull/21307) [)](https://github.com/apache/kafka/commit/8ce1a51bed77cd5ba2f944cc6eed9fb1e4d73b25 "MINOR: update notable changes for 4.1.0 release (#21307)  We should highlight the most relevant feature, EA of KIP-1071. Removing KIP-1020 text as it's a minor change only.  Reviewers: Lucas Brutschy <lbrutschy@confluent.io>, Chia-Ping Tsai  <chia7712@gmail.com>") | 18 hours agoJan 17, 2026 |
| [examples](https://github.com/apache/kafka/tree/trunk/examples "examples") | [examples](https://github.com/apache/kafka/tree/trunk/examples "examples") | [KAFKA-18836](https://issues.apache.org/jira/browse/KAFKA-18836) [: KIP-1136 annotate constructors in ConsumerGroupMetadata](https://github.com/apache/kafka/commit/10f26c86297dd2770cd7c93e35b27d4c4ceb0e1c "KAFKA-18836: KIP-1136 annotate constructors in ConsumerGroupMetadata @Deprecated (#20728)  [KIP-1136](https://cwiki.apache.org/confluence/display/KAFKA/KIP-1136%3A+Make+ConsumerGroupMetadata+an+interface) Marking ConsumerGroupMetadata class constructors deprecated. since 4.2.0  Reviewers: Andrew Schofield <aschofield@confluent.io>") [@…](https://github.com/deprecated) | 3 months agoOct 20, 2025 |
| [generator/src](https://github.com/apache/kafka/tree/trunk/generator/src "This path skips through empty directories") | [generator/src](https://github.com/apache/kafka/tree/trunk/generator/src "This path skips through empty directories") | [MINOR: Cleanup Generator Module (](https://github.com/apache/kafka/commit/230e954cd4b7e68211f8cf5fb5f67497d92769ac "MINOR: Cleanup Generator Module (#21220)  Some minor cleanups in the generator module around the excessive use of lambdas where not necessary. Also some nits around spell checks.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#21220](https://github.com/apache/kafka/pull/21220) [)](https://github.com/apache/kafka/commit/230e954cd4b7e68211f8cf5fb5f67497d92769ac "MINOR: Cleanup Generator Module (#21220)  Some minor cleanups in the generator module around the excessive use of lambdas where not necessary. Also some nits around spell checks.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | 2 weeks agoJan 1, 2026 |
| [gradle](https://github.com/apache/kafka/tree/trunk/gradle "gradle") | [gradle](https://github.com/apache/kafka/tree/trunk/gradle "gradle") | [MINOR: Update the lz4 version from 1.10.1 to 1.10.2 (](https://github.com/apache/kafka/commit/f1cf681d704c043994345ebe5d9c03ba65daf6fd "MINOR: Update the lz4 version from 1.10.1 to 1.10.2 (#21268)  LZ4 1.10.2 release note: https://github.com/yawkat/lz4-java/releases/tag/v1.10.2  Changes: - Updated dependencies.gradle to reflect the new version. - Updated LICENSE-binary to match the version upgrade.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#21268](https://github.com/apache/kafka/pull/21268) [)](https://github.com/apache/kafka/commit/f1cf681d704c043994345ebe5d9c03ba65daf6fd "MINOR: Update the lz4 version from 1.10.1 to 1.10.2 (#21268)  LZ4 1.10.2 release note: https://github.com/yawkat/lz4-java/releases/tag/v1.10.2  Changes: - Updated dependencies.gradle to reflect the new version. - Updated LICENSE-binary to match the version upgrade.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | last weekJan 9, 2026 |
| [group-coordinator](https://github.com/apache/kafka/tree/trunk/group-coordinator "group-coordinator") | [group-coordinator](https://github.com/apache/kafka/tree/trunk/group-coordinator "group-coordinator") | [KAFKA-19233](https://issues.apache.org/jira/browse/KAFKA-19233) [: Add tests for duplicate heartbeat request handling (](https://github.com/apache/kafka/commit/0e1e68db8da571fe3c08bdfc29c24dd8cc477997 "KAFKA-19233: Add tests for duplicate heartbeat request handling (#21319)  This patch adds tests to validate that duplicate full heartbeat requests are  handled idempotently in all member states (STABLE, UNREVOKED_PARTITIONS,  UNRELEASED_PARTITIONS).  Reviewers: Dongnuo Lyu <dlyu@confluent.io>, Lianet Magrans  <lmagrans@confluent.io>") [#21319](https://github.com/apache/kafka/pull/21319) [)](https://github.com/apache/kafka/commit/0e1e68db8da571fe3c08bdfc29c24dd8cc477997 "KAFKA-19233: Add tests for duplicate heartbeat request handling (#21319)  This patch adds tests to validate that duplicate full heartbeat requests are  handled idempotently in all member states (STABLE, UNREVOKED_PARTITIONS,  UNRELEASED_PARTITIONS).  Reviewers: Dongnuo Lyu <dlyu@confluent.io>, Lianet Magrans  <lmagrans@confluent.io>") | yesterdayJan 17, 2026 |
| [jmh-benchmarks](https://github.com/apache/kafka/tree/trunk/jmh-benchmarks "jmh-benchmarks") | [jmh-benchmarks](https://github.com/apache/kafka/tree/trunk/jmh-benchmarks "jmh-benchmarks") | [MINOR: Fix Javadoc parsing issues for Checkstyle (](https://github.com/apache/kafka/commit/aaca67ceed47b5b10fd90ba10d555227046e5dbb "MINOR: Fix Javadoc parsing issues for Checkstyle (#21200)  ### Summary  This PR fixes Javadoc issues exposed by the updated Checkstyle Javadoc parser, specifically in relation to `UnusedImportsCheck`.  ### Details  After updating Checkstyle, several Javadocs started failing parsing and caused false positives in `UnusedImportsCheck`.    The root cause is stricter Javadoc parsing introduced in Checkstyle (see https://github.com/checkstyle/checkstyle/pull/18059), where malformed HTML and invalid `{@link}` usages prevent the parser from correctly identifying type references.  The fixes in this PR: - Correct malformed HTML in Javadocs (for example invalid `<ul>/<li>` structures and unclosed tags). - Fix invalid `{@link}` syntax - Ensure referenced types are properly resolvable by the Javadoc parser so that imports are correctly detected as used.  There are no behavioral or API changes. All modifications are limited to Javadoc formatting and correctness.  Reviewers: Andrew Schofield <aschofield@confluent.io>") [#21200](https://github.com/apache/kafka/pull/21200) [)](https://github.com/apache/kafka/commit/aaca67ceed47b5b10fd90ba10d555227046e5dbb "MINOR: Fix Javadoc parsing issues for Checkstyle (#21200)  ### Summary  This PR fixes Javadoc issues exposed by the updated Checkstyle Javadoc parser, specifically in relation to `UnusedImportsCheck`.  ### Details  After updating Checkstyle, several Javadocs started failing parsing and caused false positives in `UnusedImportsCheck`.    The root cause is stricter Javadoc parsing introduced in Checkstyle (see https://github.com/checkstyle/checkstyle/pull/18059), where malformed HTML and invalid `{@link}` usages prevent the parser from correctly identifying type references.  The fixes in this PR: - Correct malformed HTML in Javadocs (for example invalid `<ul>/<li>` structures and unclosed tags). - Fix invalid `{@link}` syntax - Ensure referenced types are properly resolvable by the Javadoc parser so that imports are correctly detected as used.  There are no behavioral or API changes. All modifications are limited to Javadoc formatting and correctness.  Reviewers: Andrew Schofield <aschofield@confluent.io>") | 2 weeks agoJan 5, 2026 |
| [licenses](https://github.com/apache/kafka/tree/trunk/licenses "licenses") | [licenses](https://github.com/apache/kafka/tree/trunk/licenses "licenses") | [KAFKA-19153](https://issues.apache.org/jira/browse/KAFKA-19153) [: Add OAuth integration tests (](https://github.com/apache/kafka/commit/7d6e5edf8eff946b04865263ad8ed176480d7c6e "KAFKA-19153: Add OAuth integration tests (#19938)  Adds a test dependency on [mock-oauth2-server](https://github.com/navikt/mock-oauth2-server/) for integration tests for OAuth layer. Also includes fixes for some regressions that were caught by the integration tests.  Reviewers: Manikumar Reddy <manikumar@confluent.io>, Lianet Magrans  <lmagrans@confluent.io>") [#19938](https://github.com/apache/kafka/pull/19938) [)](https://github.com/apache/kafka/commit/7d6e5edf8eff946b04865263ad8ed176480d7c6e "KAFKA-19153: Add OAuth integration tests (#19938)  Adds a test dependency on [mock-oauth2-server](https://github.com/navikt/mock-oauth2-server/) for integration tests for OAuth layer. Also includes fixes for some regressions that were caught by the integration tests.  Reviewers: Manikumar Reddy <manikumar@confluent.io>, Lianet Magrans  <lmagrans@confluent.io>") | 7 months agoJun 12, 2025 |
| [metadata](https://github.com/apache/kafka/tree/trunk/metadata "metadata") | [metadata](https://github.com/apache/kafka/tree/trunk/metadata "metadata") | [KAFKA-19817](https://issues.apache.org/jira/browse/KAFKA-19817) [Move DynamicTopicClusterQuotaPublisher to metadata module (](https://github.com/apache/kafka/commit/06185618b169274914c27d7bcb46a5fa8c1c54f6 "KAFKA-19817 Move DynamicTopicClusterQuotaPublisher to metadata module (#20783)  see: [KAFKA-19817](https://issues.apache.org/jira/browse/KAFKA-19817) This PR intended to move `DynamicTopicClusterQuotaPublisher`  to the metadata module . To prevent circular dependencies, several associated classes have been migrated as well，including `ClientSensors` , `ClientQuotaMetadataManager`, `ThrottleCallback` and `ThrottledChannel`. Additionally, a new interface `QuotaManagersProvider` has been introduced to avoid the need to move class `QuotaManagers` in `QuotaFactory`, as doing so would have necessitated significantly more extensive changes.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") […](https://github.com/apache/kafka/pull/20783) | 18 hours agoJan 17, 2026 |
| [raft](https://github.com/apache/kafka/tree/trunk/raft "raft") | [raft](https://github.com/apache/kafka/tree/trunk/raft "raft") | [KAFKA-15599](https://issues.apache.org/jira/browse/KAFKA-15599) [: Move KafkaMetadataLog to the raft module (](https://github.com/apache/kafka/commit/bf91c079936fe1706564fc33a850eaf3dd7be3f4 "KAFKA-15599: Move KafkaMetadataLog to the raft module (#19762)  - Rename `KafkaMetadataLog` to `KafkaRaftLog` - Make `raft` depend on `storage` - Remove `storage` dependency on `metadata` as this otherwise create a cyclic dependency  Reviewers: Ismael Juma <mail@ismaeljuma.com>, Jun Rao <junrao@gmail.com>, José Armando García Sancio <jsancio@apache.org>, Ziming Deng <dengziming1993@gmail.com>") [#19762](https://github.com/apache/kafka/pull/19762) [)](https://github.com/apache/kafka/commit/bf91c079936fe1706564fc33a850eaf3dd7be3f4 "KAFKA-15599: Move KafkaMetadataLog to the raft module (#19762)  - Rename `KafkaMetadataLog` to `KafkaRaftLog` - Make `raft` depend on `storage` - Remove `storage` dependency on `metadata` as this otherwise create a cyclic dependency  Reviewers: Ismael Juma <mail@ismaeljuma.com>, Jun Rao <junrao@gmail.com>, José Armando García Sancio <jsancio@apache.org>, Ziming Deng <dengziming1993@gmail.com>") | last monthDec 16, 2025 |
| [release](https://github.com/apache/kafka/tree/trunk/release "release") | [release](https://github.com/apache/kafka/tree/trunk/release "release") | [KAFKA-20069](https://issues.apache.org/jira/browse/KAFKA-20069) [remove templateData.js in release.py (](https://github.com/apache/kafka/commit/3d46934cdd7723642cc2971da323179c96f5be75 "KAFKA-20069 remove templateData.js in release.py (#21300)  The `templateData.js` is removed by https://github.com/apache/kafka/pull/21195. We should also remove related paths.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>  Signed-off-by: PoAn Yang <payang@apache.org>") [#21300](https://github.com/apache/kafka/pull/21300) [)](https://github.com/apache/kafka/commit/3d46934cdd7723642cc2971da323179c96f5be75 "KAFKA-20069 remove templateData.js in release.py (#21300)  The `templateData.js` is removed by https://github.com/apache/kafka/pull/21195. We should also remove related paths.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>  Signed-off-by: PoAn Yang <payang@apache.org>") | 4 days agoJan 14, 2026 |
| [server-common/src](https://github.com/apache/kafka/tree/trunk/server-common/src "This path skips through empty directories") | [server-common/src](https://github.com/apache/kafka/tree/trunk/server-common/src "This path skips through empty directories") | [KAFKA-20012](https://issues.apache.org/jira/browse/KAFKA-20012) [Move NodeToControllerChannelManagerImpl to server module (](https://github.com/apache/kafka/commit/148be4878594ff145c0fe753815012fb6a43dff0 "KAFKA-20012 Move NodeToControllerChannelManagerImpl to server module (#21261)  Migrates `NodeToControllerChannelManager` and related classes from Scala (core module) to Java (server module).  New Java Classes (server module)  include `ControllerInformation`, `RaftControllerNodeProvider`, `NodeToControllerChannelManagerImpl`, `NodeToControllerRequestThread` and `NodeToControllerQueueItem`.  In `AbstractKafkaConfig`,  added `addReconfigurable()`/`removeReconfigurable()` abstract methods to support  migration.  In `KafkaConfig`, added `override` keywords for reconfigurable methods.   Updated imports and usages across core module classes and tests.  Replace `ControllerNodeProvider`  by `Supplier<ControllerInformation>`.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#…](https://github.com/apache/kafka/pull/21261) | 3 days agoJan 15, 2026 |
| [server/src](https://github.com/apache/kafka/tree/trunk/server/src "This path skips through empty directories") | [server/src](https://github.com/apache/kafka/tree/trunk/server/src "This path skips through empty directories") | [KAFKA-20012](https://issues.apache.org/jira/browse/KAFKA-20012) [Move NodeToControllerChannelManagerImpl to server module (](https://github.com/apache/kafka/commit/148be4878594ff145c0fe753815012fb6a43dff0 "KAFKA-20012 Move NodeToControllerChannelManagerImpl to server module (#21261)  Migrates `NodeToControllerChannelManager` and related classes from Scala (core module) to Java (server module).  New Java Classes (server module)  include `ControllerInformation`, `RaftControllerNodeProvider`, `NodeToControllerChannelManagerImpl`, `NodeToControllerRequestThread` and `NodeToControllerQueueItem`.  In `AbstractKafkaConfig`,  added `addReconfigurable()`/`removeReconfigurable()` abstract methods to support  migration.  In `KafkaConfig`, added `override` keywords for reconfigurable methods.   Updated imports and usages across core module classes and tests.  Replace `ControllerNodeProvider`  by `Supplier<ControllerInformation>`.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#…](https://github.com/apache/kafka/pull/21261) | 3 days agoJan 15, 2026 |
| [share-coordinator/src](https://github.com/apache/kafka/tree/trunk/share-coordinator/src "This path skips through empty directories") | [share-coordinator/src](https://github.com/apache/kafka/tree/trunk/share-coordinator/src "This path skips through empty directories") | [MINOR: Update share.coordinator.snapshot.update.records.per.snapshot …](https://github.com/apache/kafka/commit/eae10c2e60c1fb9e9de223c3fd87c19f83915793 "MINOR: Update share.coordinator.snapshot.update.records.per.snapshot to use range [0, 500] (#21291)  The actual range for `share.coordinator.snapshot.update.records.per.snapshot` is [0, 500]. This PR updates the parameter definition to be consistent with the actual behavior.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>, Andrew Schofield  <aschofield@confluent.io>, Sushant Mahajan <smahajan@confluent.io>") | 3 days agoJan 15, 2026 |
| [shell/src](https://github.com/apache/kafka/tree/trunk/shell/src "This path skips through empty directories") | [shell/src](https://github.com/apache/kafka/tree/trunk/shell/src "This path skips through empty directories") | [KAFKA-19334](https://issues.apache.org/jira/browse/KAFKA-19334) [MetadataShell execution unintentionally deletes lock file (](https://github.com/apache/kafka/commit/e2500186cbf79d48f163268117e9e75f10a5e53c "KAFKA-19334 MetadataShell execution unintentionally deletes lock file (#19817)  ## Summary - MetadataShell may deletes lock file unintentionally when it exists or fails to acquire lock. If there's running server, this causes unexpected result as below:   * MetadataShell succeeds on 2nd run unexpectedly   * Even worse, LogManager/RaftManager's lock also no longer work from concurrent Kafka process startup  Reviewers: TengYao Chi <frankvicky@apache.org>") […](https://github.com/apache/kafka/pull/19817) | 7 months agoJun 9, 2025 |
| [storage](https://github.com/apache/kafka/tree/trunk/storage "storage") | [storage](https://github.com/apache/kafka/tree/trunk/storage "storage") | [KAFKA-19590](https://issues.apache.org/jira/browse/KAFKA-19590) [Add prefix to TopicBasedRemoteLogMetadataManagerConfig to…](https://github.com/apache/kafka/commit/dbc7787fcd760373f370d84b156383bc0a117ebe "KAFKA-19590 Add prefix to TopicBasedRemoteLogMetadataManagerConfig to enable setting admin configs (#21277)  Currently, `TopicBasedRemoteLogMetadataManager` creates the Admin client using `commonProperties()`, which prevents users from setting admin-specific   configurations (e.g., custom timeouts, retry policies).  This commit adds a new configuration prefix `remote.log.metadata.admin.*` to   allow separate configuration for the Admin client, similar to the existing producer   and consumer prefixes.  Reviewers: TengYao Chi <frankvicky@apache.org>, Chia-Ping Tsai  <chia7712@gmail.com>") | 5 days agoJan 13, 2026 |
| [streams](https://github.com/apache/kafka/tree/trunk/streams "streams") | [streams](https://github.com/apache/kafka/tree/trunk/streams "streams") | [MINOR: Add Kafka Streams UpgradeFromValues entry for 4.2 (](https://github.com/apache/kafka/commit/33a439470513ec384da2aa07466314977f883f8a "MINOR: Add Kafka Streams UpgradeFromValues entry for 4.2 (#21229)  Added the UPGRADE_FROM_42 config value based on the UpgradeFromValues enum for 4.2.  Reviewers: Matthias J. Sax <matthias@confluent.io>") [#21229](https://github.com/apache/kafka/pull/21229) [)](https://github.com/apache/kafka/commit/33a439470513ec384da2aa07466314977f883f8a "MINOR: Add Kafka Streams UpgradeFromValues entry for 4.2 (#21229)  Added the UPGRADE_FROM_42 config value based on the UpgradeFromValues enum for 4.2.  Reviewers: Matthias J. Sax <matthias@confluent.io>") | 4 days agoJan 14, 2026 |
| [test-common](https://github.com/apache/kafka/tree/trunk/test-common "test-common") | [test-common](https://github.com/apache/kafka/tree/trunk/test-common "test-common") | [KAFKA-18928](https://issues.apache.org/jira/browse/KAFKA-18928) [Support dynamically changing configs for a specific dynam…](https://github.com/apache/kafka/commit/45a51fe19e32f7b22ed4f37ff7bb6720846af4f5 "KAFKA-18928 Support dynamically changing configs for a specific dynamic quorum controller (#20938)  Fix https://issues.apache.org/jira/browse/KAFKA-18928  Currently. It only support dynamically changing configs for a specific **static** quorum controller.  ### Test Environment Dynamic quorum environment: `controller.quorum.bootstrap.servers=ip1:port,ip2:port,ip3:port ` Static quorum environment: `controller.quorum.voters=id1@ip1:port,id2@ip2:port,id3@ip3:port ` ### Test command `./kafka-configs.sh--bootstrap-controller ip:port --entity-type brokers --entity-name 1001 --command-config /etc/kafka/admin_config.properties --alter --add-config max.connections=10086`  Completed updating config for broker 1001.  ### Verify command `./kafka-configs.sh --bootstrap-controller ip:port --entity-type brokers --entity-name 1001 --command-config /etc/kafka/admin_config.properties --describe  --all |grep -E 'max.connections|node'`  max.connections=10086 sensitive=false synonyms={DYNAMIC_BROKER_CONFIG:max.connections=100005, DEFAULT_CONFIG:max.connections=2147483647} node.id=1001 sensitive=false synonyms={STATIC_BROKER_CONFIG:node.id=1001}  ### Test result The issue on the dynamic quorum: ``` java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.BrokerIdNotRegisteredException: No node with id 1001 found.         at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)         at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2096)         at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:173)         at kafka.admin.ConfigCommand$.alterResourceConfig(ConfigCommand.scala:425)         at kafka.admin.ConfigCommand$.alterConfig(ConfigCommand.scala:192)         at kafka.admin.ConfigCommand$.processCommand(ConfigCommand.scala:165)         at kafka.admin.ConfigCommand$.main(ConfigCommand.scala:87)         at kafka.admin.ConfigCommand.main(ConfigCommand.scala) Caused by: org.apache.kafka.common.errors.BrokerIdNotRegisteredException: No node with id 1001 found. ``` <img width=\"1715\" height=\"205\" alt=\"image\"  src=\"https://github.com/user-attachments/assets/e0b096b4-2a1c-48dd-8aaf-0cf9855437df\" />  ### The result of the fix <img width=\"1877\" height=\"226\" alt=\"image\"  src=\"https://github.com/user-attachments/assets/b09ca3d5-f470-4f43-936c-f8deb209b406\" />  Reviewers: Alyssa Huang <ahuang@confluent.io>, TaiJuWu  <tjwu1217@gmail.com>, Chia-Ping Tsai <chia7712@gmail.com>") | 2 weeks agoJan 5, 2026 |
| [tests](https://github.com/apache/kafka/tree/trunk/tests "tests") | [tests](https://github.com/apache/kafka/tree/trunk/tests "tests") | [MINOR: Remove 4.2 from Streams E2E tests (](https://github.com/apache/kafka/commit/e9ad221411aa424ce8173a77068cdd5a5c3c42ba "MINOR: Remove 4.2 from Streams E2E tests (#21241)  Since Kafka 4.2.0 has not been released yet, using str(LATEST_4_2) causes the e2e tests to fail, so we should remove it.  Reviewers: TengYao Chi <frankvicky@apache.org>, Chia-Ping Tsai  <chia7712@gmail.com>") [#21241](https://github.com/apache/kafka/pull/21241) [)](https://github.com/apache/kafka/commit/e9ad221411aa424ce8173a77068cdd5a5c3c42ba "MINOR: Remove 4.2 from Streams E2E tests (#21241)  Since Kafka 4.2.0 has not been released yet, using str(LATEST_4_2) causes the e2e tests to fail, so we should remove it.  Reviewers: TengYao Chi <frankvicky@apache.org>, Chia-Ping Tsai  <chia7712@gmail.com>") | 2 weeks agoJan 3, 2026 |
| [tools](https://github.com/apache/kafka/tree/trunk/tools "tools") | [tools](https://github.com/apache/kafka/tree/trunk/tools "tools") | [KAFKA-20023](https://issues.apache.org/jira/browse/KAFKA-20023) [Fix kafka-reassign-partitions.sh to handle dead brokers (](https://github.com/apache/kafka/commit/04da4fb4e5853703c3451b9aec99149b68f03c26 "KAFKA-20023 Fix kafka-reassign-partitions.sh to handle dead brokers (#21222)  Return Node objects instead and use Node#isEmpty() to filter them out before querying.  Test Result: Broker 4 is alive ``` ./bin/kafka-reassign-partitions.sh --bootstrap-server localhost:19092 --topics-to-move-json-file tmp.json   --broker-list \"2,3,4\"   --generate Current partition replica assignment {\"version\":1,\"partitions\":[{\"topic\":\"test1\",\"partition\":0,\"replicas\":[3,4],\"log_dirs\":[\"/tmp/kraft-broker-logs-1\",\"/tmp/kraft-broker-logs-2\"]},{\"topic\":\"test1\",\"partition\":1,\"replicas\":[4,2],\"log_dirs\":[\"/tmp/kraft-broker-logs-2\",\"/tmp/kraft-broker-logs\"]}]} ``` Broker 4 shutdown ``` /bin/kafka-reassign-partitions.sh --bootstrap-server localhost:19092 --topics-to-move-json-file tmp.json   --broker-list \"2,3,4\"   --generate Current partition replica assignment {\"version\":1,\"partitions\":[{\"topic\":\"test1\",\"partition\":0,\"replicas\":[3,4],\"log_dirs\":[\"/tmp/kraft-broker-logs-1\",\"any\"]},{\"topic\":\"test1\",\"partition\":1,\"replicas\":[4,2],\"log_dirs\":[\"any\",\"/tmp/kraft-broker-logs\"]}]}  Proposed partition reassignment configuration {\"version\":1,\"partitions\":[{\"topic\":\"test1\",\"partition\":0,\"replicas\":[3,2],\"log_dirs\":[\"any\",\"any\"]},{\"topic\":\"test1\",\"partition\":1,\"replicas\":[2,3],\"log_dirs\":[\"any\",\"any\"]}]}  ```  Reviewers: PoAn Yang <payang@apache.org>, Andrew Schofield  <aschofield@confluent.io>, Chia-Ping Tsai <chia7712@gmail.com>") [#…](https://github.com/apache/kafka/pull/21222) | 2 weeks agoJan 3, 2026 |
| [transaction-coordinator/src](https://github.com/apache/kafka/tree/trunk/transaction-coordinator/src "This path skips through empty directories") | [transaction-coordinator/src](https://github.com/apache/kafka/tree/trunk/transaction-coordinator/src "This path skips through empty directories") | [KAFKA-20031](https://issues.apache.org/jira/browse/KAFKA-20031) [RPCProducerIdManager#sanityCheckResponse fails to detect …](https://github.com/apache/kafka/commit/5bb44d63dd9027f7f9b5fc00dacad53f7bb6f32d "KAFKA-20031 RPCProducerIdManager#sanityCheckResponse fails to detect overlapping producer id (#21266)  We may get a duplicate producer id if the producer ID at the start of the response is the same as last producer ID in the current block, so we make sanity check more robust.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | last weekJan 10, 2026 |
| [trogdor](https://github.com/apache/kafka/tree/trunk/trogdor "trogdor") | [trogdor](https://github.com/apache/kafka/tree/trunk/trogdor "trogdor") | [MINOR: Fix Javadoc parsing issues for Checkstyle (](https://github.com/apache/kafka/commit/aaca67ceed47b5b10fd90ba10d555227046e5dbb "MINOR: Fix Javadoc parsing issues for Checkstyle (#21200)  ### Summary  This PR fixes Javadoc issues exposed by the updated Checkstyle Javadoc parser, specifically in relation to `UnusedImportsCheck`.  ### Details  After updating Checkstyle, several Javadocs started failing parsing and caused false positives in `UnusedImportsCheck`.    The root cause is stricter Javadoc parsing introduced in Checkstyle (see https://github.com/checkstyle/checkstyle/pull/18059), where malformed HTML and invalid `{@link}` usages prevent the parser from correctly identifying type references.  The fixes in this PR: - Correct malformed HTML in Javadocs (for example invalid `<ul>/<li>` structures and unclosed tags). - Fix invalid `{@link}` syntax - Ensure referenced types are properly resolvable by the Javadoc parser so that imports are correctly detected as used.  There are no behavioral or API changes. All modifications are limited to Javadoc formatting and correctness.  Reviewers: Andrew Schofield <aschofield@confluent.io>") [#21200](https://github.com/apache/kafka/pull/21200) [)](https://github.com/apache/kafka/commit/aaca67ceed47b5b10fd90ba10d555227046e5dbb "MINOR: Fix Javadoc parsing issues for Checkstyle (#21200)  ### Summary  This PR fixes Javadoc issues exposed by the updated Checkstyle Javadoc parser, specifically in relation to `UnusedImportsCheck`.  ### Details  After updating Checkstyle, several Javadocs started failing parsing and caused false positives in `UnusedImportsCheck`.    The root cause is stricter Javadoc parsing introduced in Checkstyle (see https://github.com/checkstyle/checkstyle/pull/18059), where malformed HTML and invalid `{@link}` usages prevent the parser from correctly identifying type references.  The fixes in this PR: - Correct malformed HTML in Javadocs (for example invalid `<ul>/<li>` structures and unclosed tags). - Fix invalid `{@link}` syntax - Ensure referenced types are properly resolvable by the Javadoc parser so that imports are correctly detected as used.  There are no behavioral or API changes. All modifications are limited to Javadoc formatting and correctness.  Reviewers: Andrew Schofield <aschofield@confluent.io>") | 2 weeks agoJan 5, 2026 |
| [vagrant](https://github.com/apache/kafka/tree/trunk/vagrant "vagrant") | [vagrant](https://github.com/apache/kafka/tree/trunk/vagrant "vagrant") | [MINOR: Add 4.0.1 to system tests (](https://github.com/apache/kafka/commit/ea8babe6990924465b7957ed0746cb9253eea55a "MINOR: Add 4.0.1 to system tests (#20970)  Adding 4.0.1 that has been released.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#20970](https://github.com/apache/kafka/pull/20970) [)](https://github.com/apache/kafka/commit/ea8babe6990924465b7957ed0746cb9253eea55a "MINOR: Add 4.0.1 to system tests (#20970)  Adding 4.0.1 that has been released.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | 2 months agoNov 24, 2025 |
| [.asf.yaml](https://github.com/apache/kafka/blob/trunk/.asf.yaml ".asf.yaml") | [.asf.yaml](https://github.com/apache/kafka/blob/trunk/.asf.yaml ".asf.yaml") | [MINOR: update collaborators (](https://github.com/apache/kafka/commit/f685d57f2cb1bcbedcf37d0e2e1cd577fb6ef594 "MINOR: update collaborators (#20869)  Update collaborators (as part for the 4.1.1 release)  Update generated using the refresh_collaborators.py script (with the script fixes from https://github.com/apache/kafka/pull/19459)  Reviewers: Andrew Schofield <aschofield@confluent.io>") [#20869](https://github.com/apache/kafka/pull/20869) [)](https://github.com/apache/kafka/commit/f685d57f2cb1bcbedcf37d0e2e1cd577fb6ef594 "MINOR: update collaborators (#20869)  Update collaborators (as part for the 4.1.1 release)  Update generated using the refresh_collaborators.py script (with the script fixes from https://github.com/apache/kafka/pull/19459)  Reviewers: Andrew Schofield <aschofield@confluent.io>") | 2 months agoNov 12, 2025 |
| [.gitignore](https://github.com/apache/kafka/blob/trunk/.gitignore ".gitignore") | [.gitignore](https://github.com/apache/kafka/blob/trunk/.gitignore ".gitignore") | [MINOR: Move generated sources to build directory (](https://github.com/apache/kafka/commit/a95dfe215b03b2b82791cf7613c22576cde3766b "MINOR: Move generated sources to build directory (#16993)  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#16993](https://github.com/apache/kafka/pull/16993) [)](https://github.com/apache/kafka/commit/a95dfe215b03b2b82791cf7613c22576cde3766b "MINOR: Move generated sources to build directory (#16993)  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | 2 years agoAug 25, 2024 |
| [CONTRIBUTING.md](https://github.com/apache/kafka/blob/trunk/CONTRIBUTING.md "CONTRIBUTING.md") | [CONTRIBUTING.md](https://github.com/apache/kafka/blob/trunk/CONTRIBUTING.md "CONTRIBUTING.md") | [MINOR: Use https instead of http in links (](https://github.com/apache/kafka/commit/7d9e93ac6df511475a159daedc5e32b12a9ebc8b "MINOR: Use https instead of http in links (#6477)  Verified that the https links work.  I didn't update the license header in this PR since that touches so many files. Will file a separate one for that.  Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>") [#6477](https://github.com/apache/kafka/pull/6477) [)](https://github.com/apache/kafka/commit/7d9e93ac6df511475a159daedc5e32b12a9ebc8b "MINOR: Use https instead of http in links (#6477)  Verified that the https links work.  I didn't update the license header in this PR since that touches so many files. Will file a separate one for that.  Reviewers: Manikumar Reddy <manikumar.reddy@gmail.com>") | 7 years agoApr 22, 2019 |
| [HEADER](https://github.com/apache/kafka/blob/trunk/HEADER "HEADER") | [HEADER](https://github.com/apache/kafka/blob/trunk/HEADER "HEADER") | [trivial fix to add missing license header using .gradlew licenseForma…](https://github.com/apache/kafka/commit/36eae8f63c81f8d38c2351054c15bf7d5eb612d9 "trivial fix to add missing license header using .gradlew licenseFormatMain and ./gradlew licenseFormatTest; patched by Jun Rao") | 13 years agoFeb 7, 2014 |
| [LICENSE](https://github.com/apache/kafka/blob/trunk/LICENSE "LICENSE") | [LICENSE](https://github.com/apache/kafka/blob/trunk/LICENSE "LICENSE") | [KAFKA-12602](https://issues.apache.org/jira/browse/KAFKA-12602) [: Fix LICENSE file (](https://github.com/apache/kafka/commit/ff77864a699df46a01fc76114f662c609f4fd7a6 "KAFKA-12602: Fix LICENSE file (#10474)  Fixes the LICENSE files that we ship with our releases: * the source-distribution license included wrong and unnecessary dependencies * the binary-distribution license was missing most of our actual dependencies  Reviewers: A. Sophie Blee-Goldman <ableegoldman@apache.org>, Ewen Cheslack-Postava <ewencp@apache.org>, Justin Mclean <jmclean@apache.org>") [#10474](https://github.com/apache/kafka/pull/10474) [)](https://github.com/apache/kafka/commit/ff77864a699df46a01fc76114f662c609f4fd7a6 "KAFKA-12602: Fix LICENSE file (#10474)  Fixes the LICENSE files that we ship with our releases: * the source-distribution license included wrong and unnecessary dependencies * the binary-distribution license was missing most of our actual dependencies  Reviewers: A. Sophie Blee-Goldman <ableegoldman@apache.org>, Ewen Cheslack-Postava <ewencp@apache.org>, Justin Mclean <jmclean@apache.org>") | 5 years agoApr 6, 2021 |
| [LICENSE-binary](https://github.com/apache/kafka/blob/trunk/LICENSE-binary "LICENSE-binary") | [LICENSE-binary](https://github.com/apache/kafka/blob/trunk/LICENSE-binary "LICENSE-binary") | [MINOR: Update the lz4 version from 1.10.1 to 1.10.2 (](https://github.com/apache/kafka/commit/f1cf681d704c043994345ebe5d9c03ba65daf6fd "MINOR: Update the lz4 version from 1.10.1 to 1.10.2 (#21268)  LZ4 1.10.2 release note: https://github.com/yawkat/lz4-java/releases/tag/v1.10.2  Changes: - Updated dependencies.gradle to reflect the new version. - Updated LICENSE-binary to match the version upgrade.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#21268](https://github.com/apache/kafka/pull/21268) [)](https://github.com/apache/kafka/commit/f1cf681d704c043994345ebe5d9c03ba65daf6fd "MINOR: Update the lz4 version from 1.10.1 to 1.10.2 (#21268)  LZ4 1.10.2 release note: https://github.com/yawkat/lz4-java/releases/tag/v1.10.2  Changes: - Updated dependencies.gradle to reflect the new version. - Updated LICENSE-binary to match the version upgrade.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | last weekJan 9, 2026 |
| [NOTICE](https://github.com/apache/kafka/blob/trunk/NOTICE "NOTICE") | [NOTICE](https://github.com/apache/kafka/blob/trunk/NOTICE "NOTICE") | [MINOR: Bump year to 2026 in NOTICE file (](https://github.com/apache/kafka/commit/acd6fac6b19d97acc5f3f65863ef74fd652b9cc2 "MINOR: Bump year to 2026 in NOTICE file (#21254)  Bump year to 2026 in NOTICE file.  Reviewers: Lianet Magrans <lmagrans@confluent.io>") [#21254](https://github.com/apache/kafka/pull/21254) [)](https://github.com/apache/kafka/commit/acd6fac6b19d97acc5f3f65863ef74fd652b9cc2 "MINOR: Bump year to 2026 in NOTICE file (#21254)  Bump year to 2026 in NOTICE file.  Reviewers: Lianet Magrans <lmagrans@confluent.io>") | last weekJan 8, 2026 |
| [NOTICE-binary](https://github.com/apache/kafka/blob/trunk/NOTICE-binary "NOTICE-binary") | [NOTICE-binary](https://github.com/apache/kafka/blob/trunk/NOTICE-binary "NOTICE-binary") | [MINOR: Bump maven artifact lib and remove commonsLang (](https://github.com/apache/kafka/commit/d4e7b9bd70a8e4d44868193ecf2675c6a0c74338 "MINOR: Bump maven artifact lib and remove commonsLang (#21115)  This PR bumps Maven artefact and commons-lang libs.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#21115](https://github.com/apache/kafka/pull/21115) [)](https://github.com/apache/kafka/commit/d4e7b9bd70a8e4d44868193ecf2675c6a0c74338 "MINOR: Bump maven artifact lib and remove commonsLang (#21115)  This PR bumps Maven artefact and commons-lang libs.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | last monthDec 11, 2025 |
| [README.md](https://github.com/apache/kafka/blob/trunk/README.md "README.md") | [README.md](https://github.com/apache/kafka/blob/trunk/README.md "README.md") | [KAFKA-19756](https://issues.apache.org/jira/browse/KAFKA-19756) [Add documentation for Gradle version upgrade process (](https://github.com/apache/kafka/commit/a18384b31112bfb38816402e89b8e7eafd13e402 "KAFKA-19756 Add documentation for Gradle version upgrade process (#20741)  Currently, there is no documentation describing how to upgrade Gradle in the Kafka project. The upgrade process involves   updating three separate configuration files with specific checksums and URLs, which can be error-prone without clear guidance.  - Added a new \"Upgrading Gradle version\" section to README.md - Documents the 3-step process for upgrading Gradle:   - Update Gradle version in gradle/dependencies.gradle   - Update wrapper JAR checksum in wrapper.gradle   - Regenerate the `gradle-wrapper.properties` and  the wrapper script  Reviewers: Ken Huang <s7133700@gmail.com>, PoAn Yang  <payang@apache.org>, Ming-Yen Chung <mingyen066@gmail.com>, Chia-Ping  Tsai <chia7712@gmail.com>") [#20741](https://github.com/apache/kafka/pull/20741) | 2 months agoNov 19, 2025 |
| [Vagrantfile](https://github.com/apache/kafka/blob/trunk/Vagrantfile "Vagrantfile") | [Vagrantfile](https://github.com/apache/kafka/blob/trunk/Vagrantfile "Vagrantfile") | [KAFKA-18342](https://issues.apache.org/jira/browse/KAFKA-18342) [Use](https://github.com/apache/kafka/commit/a940d520703c133e964f13d2ec864a78972978b3 "KAFKA-18342 Use `File.exist` instead of `File.exists` to ensure the `Vagrantfile` works with Ruby 3.2+ (#18306)  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>")`File.exist` [instead of](https://github.com/apache/kafka/commit/a940d520703c133e964f13d2ec864a78972978b3 "KAFKA-18342 Use `File.exist` instead of `File.exists` to ensure the `Vagrantfile` works with Ruby 3.2+ (#18306)  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>")`File.exists` [to ensure the \`…](https://github.com/apache/kafka/commit/a940d520703c133e964f13d2ec864a78972978b3 "KAFKA-18342 Use `File.exist` instead of `File.exists` to ensure the `Vagrantfile` works with Ruby 3.2+ (#18306)  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | 2 years agoDec 24, 2024 |
| [build.gradle](https://github.com/apache/kafka/blob/trunk/build.gradle "build.gradle") | [build.gradle](https://github.com/apache/kafka/blob/trunk/build.gradle "build.gradle") | [KAFKA-20046](https://issues.apache.org/jira/browse/KAFKA-20046) [: switched the java version for streams-scala from 17 to 1…](https://github.com/apache/kafka/commit/c7800041c66d12124595ae5bce0292007b3c8256 "KAFKA-20046: switched the java version for streams-scala from 17 to 11. (#21258)  Verified that the classes are compiled with version 55 using javap  Reviewers: Ken Huang <s7133700@gmail.com>, Chia-Ping Tsai  <chia7712@gmail.com>, PoAn Yang <payang@apache.org>") | 2 weeks agoJan 6, 2026 |
| [doap\_Kafka.rdf](https://github.com/apache/kafka/blob/trunk/doap_Kafka.rdf "doap_Kafka.rdf") | [doap\_Kafka.rdf](https://github.com/apache/kafka/blob/trunk/doap_Kafka.rdf "doap_Kafka.rdf") | [MINOR: Fix DOAP syntax (](https://github.com/apache/kafka/commit/cfa995f75ecb4821721699eef4135c805e9ed82d "MINOR: Fix DOAP syntax (#16472)  xmlns strings need to match exactly, and these vocabularies are defined with `http` namespace strings, so we need to follow that.  Reviewers: Mickael Maison <mickael.maison@gmail.com>") [#16472](https://github.com/apache/kafka/pull/16472) [)](https://github.com/apache/kafka/commit/cfa995f75ecb4821721699eef4135c805e9ed82d "MINOR: Fix DOAP syntax (#16472)  xmlns strings need to match exactly, and these vocabularies are defined with `http` namespace strings, so we need to follow that.  Reviewers: Mickael Maison <mickael.maison@gmail.com>") | 2 years agoJul 3, 2024 |
| [gradle.properties](https://github.com/apache/kafka/blob/trunk/gradle.properties "gradle.properties") | [gradle.properties](https://github.com/apache/kafka/blob/trunk/gradle.properties "gradle.properties") | [KAFKA-20069](https://issues.apache.org/jira/browse/KAFKA-20069) [remove templateData.js in release.py (](https://github.com/apache/kafka/commit/3d46934cdd7723642cc2971da323179c96f5be75 "KAFKA-20069 remove templateData.js in release.py (#21300)  The `templateData.js` is removed by https://github.com/apache/kafka/pull/21195. We should also remove related paths.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>  Signed-off-by: PoAn Yang <payang@apache.org>") [#21300](https://github.com/apache/kafka/pull/21300) [)](https://github.com/apache/kafka/commit/3d46934cdd7723642cc2971da323179c96f5be75 "KAFKA-20069 remove templateData.js in release.py (#21300)  The `templateData.js` is removed by https://github.com/apache/kafka/pull/21195. We should also remove related paths.  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>  Signed-off-by: PoAn Yang <payang@apache.org>") | 4 days agoJan 14, 2026 |
| [gradlew](https://github.com/apache/kafka/blob/trunk/gradlew "gradlew") | [gradlew](https://github.com/apache/kafka/blob/trunk/gradlew "gradlew") | [MINOR: Gradle version update: 9.1.0 -->> 9.2.1 (](https://github.com/apache/kafka/commit/dc9ae8bf805a93896104a51417318729e032fc3e "MINOR: Gradle version update: 9.1.0 -->> 9.2.1 (#20932)  Release Notes:  - https://docs.gradle.org/9.2.0/release-notes.html  - https://docs.gradle.org/9.2.1/release-notes.html  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#20932](https://github.com/apache/kafka/pull/20932) [)](https://github.com/apache/kafka/commit/dc9ae8bf805a93896104a51417318729e032fc3e "MINOR: Gradle version update: 9.1.0 -->> 9.2.1 (#20932)  Release Notes:  - https://docs.gradle.org/9.2.0/release-notes.html  - https://docs.gradle.org/9.2.1/release-notes.html  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | 2 months agoNov 20, 2025 |
| [gradlewAll](https://github.com/apache/kafka/blob/trunk/gradlewAll "gradlewAll") | [gradlewAll](https://github.com/apache/kafka/blob/trunk/gradlewAll "gradlewAll") | [KAFKA-12895](https://issues.apache.org/jira/browse/KAFKA-12895) [Drop support for Scala 2.12 in Kafka 4.0 (](https://github.com/apache/kafka/commit/0e4eebe9c000e9eefad6461fb502f59615d7318b "KAFKA-12895 Drop support for Scala 2.12 in Kafka 4.0 (#17313)  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#17313](https://github.com/apache/kafka/pull/17313) [)](https://github.com/apache/kafka/commit/0e4eebe9c000e9eefad6461fb502f59615d7318b "KAFKA-12895 Drop support for Scala 2.12 in Kafka 4.0 (#17313)  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | 2 years agoOct 6, 2024 |
| [settings.gradle](https://github.com/apache/kafka/blob/trunk/settings.gradle "settings.gradle") | [settings.gradle](https://github.com/apache/kafka/blob/trunk/settings.gradle "settings.gradle") | [MINOR: Add 4.1.0 to streams system tests (](https://github.com/apache/kafka/commit/32b8e326da4668f8533091c41e0790abe9d68aca "MINOR: Add 4.1.0 to streams system tests (#20480)  This PR updates all the streams system tests to include 4.1.0.  Reviewers: Lucas Brutschy <lucasbru@apache.org>") [#20480](https://github.com/apache/kafka/pull/20480) [)](https://github.com/apache/kafka/commit/32b8e326da4668f8533091c41e0790abe9d68aca "MINOR: Add 4.1.0 to streams system tests (#20480)  This PR updates all the streams system tests to include 4.1.0.  Reviewers: Lucas Brutschy <lucasbru@apache.org>") | 4 months agoSep 10, 2025 |
| [wrapper.gradle](https://github.com/apache/kafka/blob/trunk/wrapper.gradle "wrapper.gradle") | [wrapper.gradle](https://github.com/apache/kafka/blob/trunk/wrapper.gradle "wrapper.gradle") | [MINOR: Gradle version update: 9.1.0 -->> 9.2.1 (](https://github.com/apache/kafka/commit/dc9ae8bf805a93896104a51417318729e032fc3e "MINOR: Gradle version update: 9.1.0 -->> 9.2.1 (#20932)  Release Notes:  - https://docs.gradle.org/9.2.0/release-notes.html  - https://docs.gradle.org/9.2.1/release-notes.html  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") [#20932](https://github.com/apache/kafka/pull/20932) [)](https://github.com/apache/kafka/commit/dc9ae8bf805a93896104a51417318729e032fc3e "MINOR: Gradle version update: 9.1.0 -->> 9.2.1 (#20932)  Release Notes:  - https://docs.gradle.org/9.2.0/release-notes.html  - https://docs.gradle.org/9.2.1/release-notes.html  Reviewers: Chia-Ping Tsai <chia7712@gmail.com>") | 2 months agoNov 20, 2025 |
| View all files |

## Repository files navigation

![Kafka Logo](https://github.com/apache/kafka/raw/trunk/docs/images/kafka-logo-readme-light.svg)

[![CI](https://github.com/apache/kafka/actions/workflows/ci.yml/badge.svg?branch=trunk&event=push)](https://github.com/apache/kafka/actions/workflows/ci.yml?query=event%3Apush+branch%3Atrunk)[![Flaky Test Report](https://github.com/apache/kafka/actions/workflows/generate-reports.yml/badge.svg?branch=trunk&event=schedule)](https://github.com/apache/kafka/actions/workflows/generate-reports.yml?query=event%3Aschedule+branch%3Atrunk)

[**Apache Kafka**](https://kafka.apache.org/) is an open-source distributed event streaming platform used by thousands of companies for high-performance data pipelines, streaming analytics, data integration, and mission-critical applications.

You need to have [Java](http://www.oracle.com/technetwork/java/javase/downloads/index.html) installed.

We build and test Apache Kafka with 17 and 25. The `release` parameter in javac is set to `11` for the clients
and streams modules, and `17` for the rest, ensuring compatibility with their respective
minimum Java versions. Similarly, the `release` parameter in scalac is set to `11` for the streams modules and `17`
for the rest.

Scala 2.13 is the only supported version in Apache Kafka.

### Build a jar and run it

[Permalink: Build a jar and run it](https://github.com/apache/kafka#build-a-jar-and-run-it)

```
./gradlew jar
```

Follow instructions in [https://kafka.apache.org/quickstart](https://kafka.apache.org/quickstart)

### Build source jar

[Permalink: Build source jar](https://github.com/apache/kafka#build-source-jar)

```
./gradlew srcJar
```

### Build aggregated javadoc

[Permalink: Build aggregated javadoc](https://github.com/apache/kafka#build-aggregated-javadoc)

```
./gradlew aggregatedJavadoc --no-parallel
```

### Build javadoc and scaladoc

[Permalink: Build javadoc and scaladoc](https://github.com/apache/kafka#build-javadoc-and-scaladoc)

```
./gradlew javadoc
./gradlew javadocJar # builds a javadoc jar for each module
./gradlew scaladoc
./gradlew scaladocJar # builds a scaladoc jar for each module
./gradlew docsJar # builds both (if applicable) javadoc and scaladoc jars for each module
```

### Run unit/integration tests

[Permalink: Run unit/integration tests](https://github.com/apache/kafka#run-unitintegration-tests)

```
./gradlew test  # runs both unit and integration tests
./gradlew unitTest
./gradlew integrationTest
./gradlew test -Pkafka.test.run.flaky=true  # runs tests that are marked as flaky
```

### Force re-running tests without code change

[Permalink: Force re-running tests without code change](https://github.com/apache/kafka#force-re-running-tests-without-code-change)

```
./gradlew test --rerun-tasks
./gradlew unitTest --rerun-tasks
./gradlew integrationTest --rerun-tasks
```

### Running a particular unit/integration test

[Permalink: Running a particular unit/integration test](https://github.com/apache/kafka#running-a-particular-unitintegration-test)

```
./gradlew clients:test --tests RequestResponseTest
./gradlew streams:integration-tests:test --tests RestoreIntegrationTest
```

### Repeatedly running a particular unit/integration test with specific times by setting N

[Permalink: Repeatedly running a particular unit/integration test with specific times by setting N](https://github.com/apache/kafka#repeatedly-running-a-particular-unitintegration-test-with-specific-times-by-setting-n)

```
N=500; I=0; while [ $I -lt $N ] && ./gradlew clients:test --tests RequestResponseTest --rerun --fail-fast; do (( I=$I+1 )); echo "Completed run: $I"; sleep 1; done
```

### Running a particular test method within a unit/integration test

[Permalink: Running a particular test method within a unit/integration test](https://github.com/apache/kafka#running-a-particular-test-method-within-a-unitintegration-test)

```
./gradlew core:test --tests kafka.api.ProducerFailureHandlingTest.testCannotSendToInternalTopic
./gradlew clients:test --tests org.apache.kafka.clients.MetadataTest.testTimeToNextUpdate
./gradlew streams:integration-tests:test --tests org.apache.kafka.streams.integration.RestoreIntegrationTest.shouldRestoreNullRecord
```

### Running a particular unit/integration test with log4j output

[Permalink: Running a particular unit/integration test with log4j output](https://github.com/apache/kafka#running-a-particular-unitintegration-test-with-log4j-output)

By default, there will be only small number of logs output while testing. You can adjust it by changing the `log4j2.yaml` file in the module's `src/test/resources` directory.

For example, if you want to see more logs for clients project tests, you can modify [the line](https://github.com/apache/kafka/blob/trunk/clients/src/test/resources/log4j2.yaml#L35) in `clients/src/test/resources/log4j2.yaml`
to `level: INFO` and then run:

```
./gradlew cleanTest clients:test --tests NetworkClientTest
```

And you should see `INFO` level logs in the file under the `clients/build/test-results/test` directory.

### Specifying test retries

[Permalink: Specifying test retries](https://github.com/apache/kafka#specifying-test-retries)

Retries are disabled by default, but you can set maxTestRetryFailures and maxTestRetries to enable retries.

The following example declares -PmaxTestRetries=1 and -PmaxTestRetryFailures=3 to enable a failed test to be retried once, with a total retry limit of 3.

```
./gradlew test -PmaxTestRetries=1 -PmaxTestRetryFailures=3
```

See [Test Retry Gradle Plugin](https://github.com/gradle/test-retry-gradle-plugin) and [build.yml](https://github.com/apache/kafka/blob/trunk/.github/workflows/build.yml) for more details.

### Generating test coverage reports

[Permalink: Generating test coverage reports](https://github.com/apache/kafka#generating-test-coverage-reports)

Generate coverage reports for the whole project:

```
./gradlew reportCoverage -PenableTestCoverage=true -Dorg.gradle.parallel=false
```

Generate coverage for a single module, i.e.:

```
./gradlew clients:reportCoverage -PenableTestCoverage=true -Dorg.gradle.parallel=false
```

Coverage reports are located within the module's build directory, categorized by module type:

Core Module (:core): `core/build/reports/scoverageTest/index.html`

Other Modules: `<module>/build/reports/jacoco/test/html/index.html`

### Building a binary release gzipped tar ball

[Permalink: Building a binary release gzipped tar ball](https://github.com/apache/kafka#building-a-binary-release-gzipped-tar-ball)

```
./gradlew clean releaseTarGz
```

The release file can be found inside `./core/build/distributions/`.

### Building auto generated messages

[Permalink: Building auto generated messages](https://github.com/apache/kafka#building-auto-generated-messages)

Sometimes it is only necessary to rebuild the RPC auto-generated message data when switching between branches, as they could
fail due to code changes. You can just run:

```
./gradlew processMessages processTestMessages
```

See [Apache Kafka Message Definitions](https://github.com/apache/kafka/blob/trunk/clients/src/main/resources/common/message/README.md) for details on Apache Kafka message protocol.

### Running a Kafka broker

[Permalink: Running a Kafka broker](https://github.com/apache/kafka#running-a-kafka-broker)

Using compiled files:

```
KAFKA_CLUSTER_ID="$(./bin/kafka-storage.sh random-uuid)"
./bin/kafka-storage.sh format --standalone -t $KAFKA_CLUSTER_ID -c config/server.properties
./bin/kafka-server-start.sh config/server.properties
```

Using docker image:

```
docker run -p 9092:9092 apache/kafka:latest
```

See [docker/README.md](https://github.com/apache/kafka/blob/trunk/docker/README.md) for detailed information.

### Cleaning the build

[Permalink: Cleaning the build](https://github.com/apache/kafka#cleaning-the-build)

```
./gradlew clean
```

### Running a task for a specific project

[Permalink: Running a task for a specific project](https://github.com/apache/kafka#running-a-task-for-a-specific-project)

This is for `core`, `examples` and `clients`

```
./gradlew core:jar
./gradlew core:test
```

Streams has multiple sub-projects, but you can run all the tests:

```
./gradlew :streams:testAll
```

### Listing all gradle tasks

[Permalink: Listing all gradle tasks](https://github.com/apache/kafka#listing-all-gradle-tasks)

```
./gradlew tasks
```

### Building IDE project

[Permalink: Building IDE project](https://github.com/apache/kafka#building-ide-project)

_Note Please ensure that JDK17 is used when developing Kafka._

IntelliJ supports Gradle natively and it will automatically check Java syntax and compatibility for each module, even if
the Java version shown in the `Structure > Project Settings > Modules` may not be the correct one.

When it comes to Eclipse, run:

```
./gradlew eclipse
```

The `eclipse` task has been configured to use `${project_dir}/build_eclipse` as Eclipse's build directory. Eclipse's default
build directory (`${project_dir}/bin`) clashes with Kafka's scripts directory and we don't use Gradle's build directory
to avoid known issues with this configuration.

### Publishing the streams quickstart archetype artifact to maven

[Permalink: Publishing the streams quickstart archetype artifact to maven](https://github.com/apache/kafka#publishing-the-streams-quickstart-archetype-artifact-to-maven)

For the Streams archetype project, one cannot use gradle to upload to maven; instead the `mvn deploy` command needs to be called at the quickstart folder:

```
cd streams/quickstart
mvn deploy
```

Please note for this to work you should create/update user maven settings (typically, `${USER_HOME}/.m2/settings.xml`) to assign the following variables

```
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0
                       https://maven.apache.org/xsd/settings-1.0.0.xsd">
...
<servers>
   ...
   <server>
      <id>apache.snapshots.https</id>
      <username>${maven_username}</username>
      <password>${maven_password}</password>
   </server>
   <server>
      <id>apache.releases.https</id>
      <username>${maven_username}</username>
      <password>${maven_password}</password>
    </server>
    ...
 </servers>
 ...
```

### Installing all projects to the local Maven repository

[Permalink: Installing all projects to the local Maven repository](https://github.com/apache/kafka#installing-all-projects-to-the-local-maven-repository)

```
./gradlew -PskipSigning=true publishToMavenLocal
```

### Installing specific projects to the local Maven repository

[Permalink: Installing specific projects to the local Maven repository](https://github.com/apache/kafka#installing-specific-projects-to-the-local-maven-repository)

```
./gradlew -PskipSigning=true :streams:publishToMavenLocal
```

### Building the test jar

[Permalink: Building the test jar](https://github.com/apache/kafka#building-the-test-jar)

```
./gradlew testJar
```

### Running code quality checks

[Permalink: Running code quality checks](https://github.com/apache/kafka#running-code-quality-checks)

There are two code quality analysis tools that we regularly run, spotbugs and checkstyle.

#### Checkstyle

[Permalink: Checkstyle](https://github.com/apache/kafka#checkstyle)

Checkstyle enforces a consistent coding style in Kafka.
You can run checkstyle using:

```
./gradlew checkstyleMain checkstyleTest spotlessCheck
```

The checkstyle warnings will be found in `reports/checkstyle/reports/main.html` and `reports/checkstyle/reports/test.html` files in the
subproject build directories. They are also printed to the console. The build will fail if Checkstyle fails.
For experiments (or regression testing purposes) add `-PcheckstyleVersion=X.y.z` switch (to override project-defined checkstyle version).

#### Spotless

[Permalink: Spotless](https://github.com/apache/kafka#spotless)

The import order is a part of static check. please call `spotlessApply` to optimize the imports of Java codes before filing pull request.

```
./gradlew spotlessApply
```

#### Spotbugs

[Permalink: Spotbugs](https://github.com/apache/kafka#spotbugs)

Spotbugs uses static analysis to look for bugs in the code.
You can run spotbugs using:

```
./gradlew spotbugsMain spotbugsTest -x test
```

The spotbugs warnings will be found in `reports/spotbugs/main.html` and `reports/spotbugs/test.html` files in the subproject build
directories. Use -PxmlSpotBugsReport=true to generate an XML report instead of an HTML one.

### JMH microbenchmarks

[Permalink: JMH microbenchmarks](https://github.com/apache/kafka#jmh-microbenchmarks)

We use [JMH](https://openjdk.java.net/projects/code-tools/jmh/) to write microbenchmarks that produce reliable results in the JVM.

See [jmh-benchmarks/README.md](https://github.com/apache/kafka/blob/trunk/jmh-benchmarks/README.md) for details on how to run the microbenchmarks.

### Dependency Analysis

[Permalink: Dependency Analysis](https://github.com/apache/kafka#dependency-analysis)

The gradle [dependency debugging documentation](https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html) mentions using the `dependencies` or `dependencyInsight` tasks to debug dependencies for the root project or individual subprojects.

Alternatively, use the `allDeps` or `allDepInsight` tasks for recursively iterating through all subprojects:

```
./gradlew allDeps

./gradlew allDepInsight --configuration runtimeClasspath --dependency com.fasterxml.jackson.core:jackson-databind
```

These take the same arguments as the builtin variants.

### Determining if any dependencies could be updated

[Permalink: Determining if any dependencies could be updated](https://github.com/apache/kafka#determining-if-any-dependencies-could-be-updated)

```
./gradlew dependencyUpdates --no-parallel
```

### Common build options

[Permalink: Common build options](https://github.com/apache/kafka#common-build-options)

The following options should be set with a `-P` switch, for example `./gradlew -PmaxParallelForks=1 test`.

- `commitId`: sets the build commit ID as .git/HEAD might not be correct if there are local commits added for build purposes.
- `mavenUrl`: sets the URL of the maven deployment repository (`file://path/to/repo` can be used to point to a local repository).
- `maxParallelForks`: maximum number of test processes to start in parallel. Defaults to the number of processors available to the JVM.
- `maxScalacThreads`: maximum number of worker threads for the scalac backend. Defaults to the lowest of `8` and the number of processors
available to the JVM. The value must be between 1 and 16 (inclusive).
- `ignoreFailures`: ignore test failures from junit
- `showStandardStreams`: shows standard out and standard error of the test JVM(s) on the console.
- `skipSigning`: skips signing of artifacts.
- `testLoggingEvents`: unit test events to be logged, separated by comma. For example `./gradlew -PtestLoggingEvents=started,passed,skipped,failed test`.
- `xmlSpotBugsReport`: enable XML reports for spotBugs. This also disables HTML reports as only one can be enabled at a time.
- `maxTestRetries`: maximum number of retries for a failing test case.
- `maxTestRetryFailures`: maximum number of test failures before retrying is disabled for subsequent tests.
- `enableTestCoverage`: enables test coverage plugins and tasks, including bytecode enhancement of classes required to track said
coverage. Note that this introduces some overhead when running tests and hence why it's disabled by default (the overhead
varies, but 15-20% is a reasonable estimate).
- `keepAliveMode`: configures the keep alive mode for the Gradle compilation daemon - reuse improves start-up time. The values should
be one of `daemon` or `session` (the default is `daemon`). `daemon` keeps the daemon alive until it's explicitly stopped while
`session` keeps it alive until the end of the build session. This currently only affects the Scala compiler, see
[gradle/gradle#21034](https://github.com/gradle/gradle/pull/21034) for a PR that attempts to do the same for the Java compiler.
- `scalaOptimizerMode`: configures the optimizing behavior of the scala compiler, the value should be one of `none`, `method`, `inline-kafka` or
`inline-scala` (the default is `inline-kafka`). `none` is the scala compiler default, which only eliminates unreachable code. `method` also
includes method-local optimizations. `inline-kafka` adds inlining of methods within the kafka packages. Finally, `inline-scala` also
includes inlining of methods within the scala library (which avoids lambda allocations for methods like `Option.exists`). `inline-scala` is
only safe if the Scala library version is the same at compile time and runtime. Since we cannot guarantee this for all cases (for example, users
may depend on the kafka jar for integration tests where they may include a scala library with a different version), we don't enable it by
default. See [https://www.lightbend.com/blog/scala-inliner-optimizer](https://www.lightbend.com/blog/scala-inliner-optimizer) for more details.

### Upgrading Gradle version

[Permalink: Upgrading Gradle version](https://github.com/apache/kafka#upgrading-gradle-version)

See [gradle/wrapper/README.md](https://github.com/apache/kafka/blob/trunk/gradle/wrapper/README.md) for instructions on upgrading the Gradle version.

### Running system tests

[Permalink: Running system tests](https://github.com/apache/kafka#running-system-tests)

See [tests/README.md](https://github.com/apache/kafka/blob/trunk/tests/README.md).

### Using Trogdor for testing

[Permalink: Using Trogdor for testing](https://github.com/apache/kafka#using-trogdor-for-testing)

We use Trogdor as a test framework for Apache Kafka. You can use it to run benchmarks and other workloads.

See [trogdor/README.md](https://github.com/apache/kafka/blob/trunk/trogdor/README.md).

### Running in Vagrant

[Permalink: Running in Vagrant](https://github.com/apache/kafka#running-in-vagrant)

See [vagrant/README.md](https://github.com/apache/kafka/blob/trunk/vagrant/README.md).

### Kafka client examples

[Permalink: Kafka client examples](https://github.com/apache/kafka#kafka-client-examples)

See [examples/README.md](https://github.com/apache/kafka/blob/trunk/examples/README.md).

### Contribution

[Permalink: Contribution](https://github.com/apache/kafka#contribution)

Apache Kafka is interested in building the community; we would welcome any thoughts or [patches](https://issues.apache.org/jira/browse/KAFKA). You can reach us [on the Apache mailing lists](http://kafka.apache.org/contact.html).

To contribute follow the instructions here:

- [https://kafka.apache.org/contributing.html](https://kafka.apache.org/contributing.html)

## About

Mirror of Apache Kafka


### Topics

[scala](https://github.com/topics/scala "Topic: scala") [kafka](https://github.com/topics/kafka "Topic: kafka")

### Resources

[Readme](https://github.com/apache/kafka#readme-ov-file)

### License

Apache-2.0, Apache-2.0 licenses found


### Licenses found

[Apache-2.0\\
\\
LICENSE](https://github.com/apache/kafka/blob/trunk/LICENSE) [Apache-2.0\\
\\
LICENSE-binary](https://github.com/apache/kafka/blob/trunk/LICENSE-binary)

### Code of conduct

[Code of conduct](https://github.com/apache/kafka#coc-ov-file)

### Contributing

[Contributing](https://github.com/apache/kafka#contributing-ov-file)

### Security policy

[Security policy](https://github.com/apache/kafka#security-ov-file)

### Uh oh!

There was an error while loading. [Please reload this page](https://github.com/apache/kafka).

[Activity](https://github.com/apache/kafka/activity)

[Custom properties](https://github.com/apache/kafka/custom-properties)

### Stars

[**31.7k**\\
stars](https://github.com/apache/kafka/stargazers)

### Watchers

[**1.1k**\\
watching](https://github.com/apache/kafka/watchers)

### Forks

[**14.9k**\\
forks](https://github.com/apache/kafka/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fapache%2Fkafka&report=apache+%28user%29)

## [Releases](https://github.com/apache/kafka/releases)

[284tags](https://github.com/apache/kafka/tags)

## [Packages\  0](https://github.com/orgs/apache/packages?repo_name=kafka)

No packages published

### Uh oh!

There was an error while loading. [Please reload this page](https://github.com/apache/kafka).

## [Contributors\  1,323](https://github.com/apache/kafka/graphs/contributors)

- [![@ijuma](https://avatars.githubusercontent.com/u/24747?s=64&v=4)](https://github.com/ijuma)
- [![@mjsax](https://avatars.githubusercontent.com/u/8959638?s=64&v=4)](https://github.com/mjsax)
- [![@hachikuji](https://avatars.githubusercontent.com/u/12502538?s=64&v=4)](https://github.com/hachikuji)
- [![@guozhangwang](https://avatars.githubusercontent.com/u/10729597?s=64&v=4)](https://github.com/guozhangwang)
- [![@cmccabe](https://avatars.githubusercontent.com/u/1095624?s=64&v=4)](https://github.com/cmccabe)
- [![@dajac](https://avatars.githubusercontent.com/u/157182?s=64&v=4)](https://github.com/dajac)
- [![@rajinisivaram](https://avatars.githubusercontent.com/u/13164074?s=64&v=4)](https://github.com/rajinisivaram)
- [![@mimaison](https://avatars.githubusercontent.com/u/903615?s=64&v=4)](https://github.com/mimaison)
- [![@mumrah](https://avatars.githubusercontent.com/u/55116?s=64&v=4)](https://github.com/mumrah)
- [![@showuon](https://avatars.githubusercontent.com/u/43372967?s=64&v=4)](https://github.com/showuon)
- [![@cadonna](https://avatars.githubusercontent.com/u/1042170?s=64&v=4)](https://github.com/cadonna)
- [![@FrankYang0529](https://avatars.githubusercontent.com/u/4927361?s=64&v=4)](https://github.com/FrankYang0529)
- [![@m1a2st](https://avatars.githubusercontent.com/u/100591800?s=64&v=4)](https://github.com/m1a2st)
- [![@bbejeck](https://avatars.githubusercontent.com/u/199238?s=64&v=4)](https://github.com/bbejeck)

[\+ 1,309 contributors](https://github.com/apache/kafka/graphs/contributors)

## Languages

- [Java87.2%](https://github.com/apache/kafka/search?l=java)
- [Scala10.6%](https://github.com/apache/kafka/search?l=scala)
- [Python1.9%](https://github.com/apache/kafka/search?l=python)
- [Shell0.2%](https://github.com/apache/kafka/search?l=shell)
- [Batchfile0.1%](https://github.com/apache/kafka/search?l=batchfile)
- [Dockerfile0.0%](https://github.com/apache/kafka/search?l=dockerfile)

You can’t perform that action at this time.